(function(e){function t(t){for(var s,o,r=t[0],l=t[1],c=t[2],u=0,p=[];u<r.length;u++)o=r[u],n[o]&&p.push(n[o][0]),n[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);d&&d(t);while(p.length)p.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],s=!0,o=1;o<a.length;o++){var r=a[o];0!==n[r]&&(s=!1)}s&&(i.splice(t--,1),e=l(l.s=a[0]))}return e}var s={},o={app:0},n={app:0},i=[];function r(e){return l.p+"js/"+({about:"about"}[e]||e)+"."+{about:"e2d3020e","chunk-34f42f2b":"640e131d"}[e]+".js"}function l(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(e){var t=[],a={"chunk-34f42f2b":1};o[e]?t.push(o[e]):0!==o[e]&&a[e]&&t.push(o[e]=new Promise(function(t,a){for(var s="css/"+({about:"about"}[e]||e)+"."+{about:"31d6cfe0","chunk-34f42f2b":"dedcef92"}[e]+".css",n=l.p+s,i=document.getElementsByTagName("link"),r=0;r<i.length;r++){var c=i[r],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===s||u===n))return t()}var p=document.getElementsByTagName("style");for(r=0;r<p.length;r++){c=p[r],u=c.getAttribute("data-href");if(u===s||u===n)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var s=t&&t.target&&t.target.src||n,i=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=s,delete o[e],d.parentNode.removeChild(d),a(i)},d.href=n;var m=document.getElementsByTagName("head")[0];m.appendChild(d)}).then(function(){o[e]=0}));var s=n[e];if(0!==s)if(s)t.push(s[2]);else{var i=new Promise(function(t,a){s=n[e]=[t,a]});t.push(s[2]=i);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=r(e),c=function(t){u.onerror=u.onload=null,clearTimeout(p);var a=n[e];if(0!==a){if(a){var s=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+s+": "+o+")");i.type=s,i.request=o,a[1](i)}n[e]=void 0}};var p=setTimeout(function(){c({type:"timeout",target:u})},12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(t)},l.m=e,l.c=s,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)l.d(a,s,function(t){return e[t]}.bind(null,s));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/service-assigns/",l.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var p=0;p<c.length;p++)t(c[p]);var d=u;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"0017":function(e,t,a){"use strict";var s=a("3265"),o=a.n(s);o.a},"0035":function(e,t,a){},"0737":function(e,t,a){},"0aff":function(e,t,a){},"0d6e":function(e,t,a){"use strict";a.d(t,"a",function(){return s});var s=function(e){return new Promise(function(t,a){var s=new FileReader;s.addEventListener("load",function(){t(s)}),s.addEventListener("error",function(e){a(new Error("file load fail"))}),s.readAsDataURL(e)})}},1:function(e,t){},1097:function(e,t,a){},"135b":function(e,t,a){"use strict";var s=a("b2ee"),o=a.n(s);o.a},"15ca":function(e,t,a){"use strict";var s=a("2ad5"),o=a.n(s);o.a},1644:function(e,t,a){"use strict";var s=a("e53e"),o=a.n(s);o.a},1942:function(e,t,a){"use strict";a.d(t,"a",function(){return s}),a.d(t,"b",function(){return o}),a.d(t,"d",function(){return n}),a.d(t,"c",function(){return i});a("ac6a"),a("8615");var s=function(e,t){return e.indexOf(t)>=0},o=function(e,t){return Object.values(e).indexOf(t)>=0},n=function(e,t){return void 0===e||null===e?t:e},i=function(e,t){return e.reduce(function(e,a){return new Promise(function(s,o){e.then(function(){t(a).then(function(){return s()})})})},Promise.resolve())}},"1c65":function(e,t,a){"use strict";var s=a("b64c"),o=a.n(s);o.a},"21cc":function(e,t,a){"use strict";var s=a("7ea6"),o=a.n(s);o.a},2734:function(e,t,a){"use strict";var s=a("da33"),o=a.n(s);o.a},2818:function(e,t,a){},"2ad5":function(e,t,a){},"2dac":function(e,t,a){"use strict";var s=a("0aff"),o=a.n(s);o.a},"30a8":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("PageWrapper",{attrs:{title:"訪客",padding:".2rem"}},[a("div",{staticClass:"TalkRecord-Component d-flex flex-column"},[a("div",{staticClass:"form-panel"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.reload()}}},[a("div",{staticClass:"row no-gutters"},[a("div",{staticClass:"col-auto p-1"},[a("label",[e._v("連線時間")]),a("div",[a("el-date-picker",{attrs:{type:"daterange",size:"small",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions},model:{value:e.query.dateRange,callback:function(t){e.$set(e.query,"dateRange",t)},expression:"query.dateRange"}})],1)]),a("div",{staticClass:"col-auto p-1"},[a("label",[e._v("等待時間")]),a("div",{staticClass:"input-group input-group-sm"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.query.waitingOperator,expression:"query.waitingOperator"}],staticClass:"custom-select",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.query,"waitingOperator",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"above"}},[e._v("大於等於")]),a("option",{attrs:{value:"below"}},[e._v("小於等於")])]),a("div",{staticClass:"input-group-append"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.query.waitingTime,expression:"query.waitingTime"}],staticClass:"form-control form-control-sm",attrs:{type:"text"},domProps:{value:e.query.waitingTime},on:{input:function(t){t.target.composing||e.$set(e.query,"waitingTime",t.target.value)}}})]),a("div",{staticClass:"input-group-append"},[a("label",{staticClass:"input-group-text"},[e._v("秒")])])])]),a("div",{staticClass:"col-auto p-1"},[a("label",{attrs:{for:""}},[e._v(e._s(e._f("pt")("executive-username")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.query.executiveUsername,expression:"query.executiveUsername"}],staticClass:"form-control form-control-sm",attrs:{type:"text",autocomplete:"off"},domProps:{value:e.query.executiveUsername},on:{input:function(t){t.target.composing||e.$set(e.query,"executiveUsername",t.target.value)}}})]),a("div",{staticClass:"col-auto p-1"},[a("label",{attrs:{for:""}},[e._v(e._s(e._f("pt")("ip")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.query.ip,expression:"query.ip"}],staticClass:"form-control form-control-sm",attrs:{type:"text"},domProps:{value:e.query.ip},on:{input:function(t){t.target.composing||e.$set(e.query,"ip",t.target.value)}}})]),a("div",{staticClass:"col"})]),a("div",{staticClass:"row no-gutters"},[a("div",{staticClass:"col p-1"},[a("label",[e._v("狀態")]),a("div",e._l(e.statusOptions,function(t){return a("div",{key:t.value,staticClass:"form-check form-check-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.query.status,expression:"query.status"}],staticClass:"form-check-input position-static",attrs:{type:"checkbox",id:"status-opt-"+t.value},domProps:{value:t.value,checked:Array.isArray(e.query.status)?e._i(e.query.status,t.value)>-1:e.query.status},on:{change:function(a){var s=e.query.status,o=a.target,n=!!o.checked;if(Array.isArray(s)){var i=t.value,r=e._i(s,i);o.checked?r<0&&e.$set(e.query,"status",s.concat([i])):r>-1&&e.$set(e.query,"status",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.query,"status",n)}}}),a("label",{staticClass:"form-check-label",attrs:{for:"status-opt-"+t.value}},[e._v(e._s(e._f("t")(t.label)))])])}),0)]),a("div",{staticClass:"col"}),a("div",{staticClass:"col-auto p-1"},[a("div",[a("label",[e._v(" ")])]),a("el-button",{attrs:{size:"small",loading:e.loading.list},on:{click:function(t){return t.preventDefault(),e.clearQuery(t)}}},[e._v("\n                            "+e._s(e._f("t")("common.clear"))+"\n                        ")]),a("el-button",{attrs:{"native-type":"submit",size:"small",loading:e.loading.list}},[e._v("\n                            "+e._s(e._f("t")("common.search"))+"\n                        ")])],1)])])]),a("div",{staticClass:"CustomerMain-content flex-fill row no-gutters"},[a("div",{staticClass:"col customer-list-panel"},[a("PanelWrapper",[a("div",{staticClass:"customer-list-content"},[a("ListGrid",{ref:"grid",attrs:{data:e.response,"row-class-name":e.rowClass,loading:e.loading.list},on:{"update:loading":function(t){return e.$set(e.loading,"list",t)},change:e.reload}},[a("el-table-column",{attrs:{align:"center",width:"70",label:e._f("pt")("id")},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("span",{staticClass:"col-talk-id"},[e._v("\n                                        #"+e._s(s.id)+"\n                                    ")])]}}])}),a("el-table-column",{attrs:{prop:"name",align:"center",width:"80",label:e._f("pt")("name")},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[s.customer?a("div",{staticClass:"col-customer-id alert",class:e.customerOnlineClass(s)},[e._v("#"+e._s(s.customerId))]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"executive",label:e._f("pt")("executive")},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[s.executive?a("span",[e._v(e._s(s.executive.name))]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"ip",align:"center",label:e._f("pt")("ip")},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"查詢 IP: "+s.ip,placement:"right"}},[a("a",{staticClass:"col-ip",attrs:{href:"#","data-toggle":"tooltip","data-placement":"top",title:"Tooltip on top"},on:{click:function(t){return t.preventDefault(),e.queryByIP(s.ip)}}},[e._v("\n                                            "+e._s(s.ip)+"\n                                        ")])]),s.ipInfo?a("div",{staticClass:"ip-info"},[e._v("\n                                        "+e._s(s.ipInfo.name)+" ("+e._s(s.ipInfo.country)+")\n                                    ")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"browser",align:"center",label:e._f("t")("common.browser-info")},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("div",{staticClass:"col-browser-info text-info"},[a("div",[e._v("\n                                            "+e._s(s.device)+" / "+e._s(s.os)+"\n                                        ")]),a("div",[e._v("\n                                            "+e._s(s.browser)+"\n                                        ")])])]}}])}),a("el-table-column",{attrs:{prop:"time-waiting","header-align":"center",align:"right",width:"80",label:e._f("pt")("time-waiting")},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("div",{staticClass:"col-time-waiting time-value",class:{warning:s.timeWaiting>3e4}},[e._v("\n                                        "+e._s(e._f("tcf")(s.timeWaiting))+"\n                                    ")])]}}])}),a("el-table-column",{attrs:{prop:"time-sevice","header-align":"center",align:"right",width:"110",label:e._f("pt")("time-service")},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[s.startAt?a("div",{staticClass:"col-time-service time-value"},[e._v("\n                                        "+e._s(e._f("tcf")(s.timeService))+"\n                                    ")]):e._e()]}}])}),a("el-table-column",{attrs:{align:"center",width:"90",label:e._f("pt")("date")},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("div",{staticClass:"col-connected-at time-value"},[e._v("\n                                        "+e._s(e._f("dt")(s.createdAt,"YYYY-MM-DD"))+"\n                                        "),a("small",[e._v(e._s(e._f("dtc")(s.createdAt)))])])]}}])}),a("el-table-column",{attrs:{align:"center",width:"90",label:e._f("pt")("connect-at")},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("div",{staticClass:"col-connected-at time-value"},[e._v("\n                                        "+e._s(e._f("dt")(s.createdAt,"HH:mm:ss"))+"\n                                    ")])]}}])}),a("el-table-column",{attrs:{align:"center",width:"90",label:e._f("pt")("start-at")},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("div",{staticClass:"col-start-at time-value"},[e._v("\n                                        "+e._s(e._f("dt")(s.startAt,"HH:mm:ss"))+"\n                                    ")])]}}])}),a("el-table-column",{attrs:{align:"center",width:"90",label:e._f("pt")("closed-at")},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("div",{staticClass:"col-closed-at time-value"},[e._v("\n                                        "+e._s(e._f("dt")(s.closedAt,"HH:mm:ss"))+"\n                                    ")])]}}])}),a("el-table-column",{attrs:{align:"center",width:"110",label:e._f("t")("common.status")},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("div",{staticClass:"status",class:"status-"+s.status},[e._v("\n                                        "+e._s(e._f("t")("common.talk-status."+s.status))+"\n                                    ")])]}}])}),a("el-table-column",{attrs:{align:"center",width:"120",label:e._f("t")("common.remark")},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("div",[e._v(e._s(s.remark))])]}}])}),a("el-table-column",{attrs:{align:"center",label:e._f("t")("common.options"),fixed:"right",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:"waiting"===s.status,expression:"row.status === 'waiting'"}],staticClass:"btn-tiny",attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.startTalk(s)}}},[e._v("\n                                        接線\n                                    ")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:s.canEnter,expression:"row.canEnter"}],staticClass:"btn-tiny",attrs:{size:"mini",type:"success"},on:{click:function(t){return e.activeTalk(s)}}},[e._v("\n                                        對話\n                                    ")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:s.canView,expression:"row.canView"}],staticClass:"btn-tiny",attrs:{size:"mini"},on:{click:function(t){return e.viewTalk(s.id)}}},[e._v("\n                                        記錄\n                                    ")])]}}])})],1)],1)])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.viewTalkId>0,expression:"viewTalkId > 0"}],staticClass:"col-6 col-sm-4 talk-history-panel"},[a("PanelWrapper",{staticClass:"talk-history",attrs:{title:"對話記錄"}},[a("div",{attrs:{slot:"title-right"},slot:"title-right"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.viewTalk(0)}}},[e._v("Close")])],1),e.viewTalkId?a("Talk",{attrs:{"talk-id":e.viewTalkId,history:""}}):e._e()],1)],1)])])])},o=[],n=(a("8e6e"),a("456d"),a("7514"),a("ac6a"),a("bd86")),i=a("768b"),r=a("a8db"),l=a("d225"),c=a("b0b4"),u=a("308d"),p=a("6bb5"),d=a("4e2b"),m=a("9ab4"),f=a("60a3"),b=a("3a0b"),h=a("88c3"),v=a("7c04"),y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"TalkHistory-Component"},[e.talk?a("div",{staticClass:"wrapper-content"},[a("InfiniteScroll",{ref:"infinite",staticClass:"message-list",attrs:{disabled:0===e.remaining,loading:e.loading.message},on:{load:function(t){return e.loadAfterMessages()}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:0===e.remaining,expression:"remaining === 0"}],staticClass:"talk-start"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.talk.closedAt,expression:"talk.closedAt"}],staticClass:"status-step-panel alert alert-success"},[a("label",{staticClass:"status-step-panel__label"},[e._v(" 接線開始服務。 等待時間 : "+e._s(e._f("tcf")(e.talk.timeWaiting))+" ")]),a("small",{staticClass:"status-step-panel__time"},[e._v("\n                        "+e._s(e._f("dt")(e.talk.startAt,"HH:mm"))+"\n                    ")])])]),e._l(e.messages,function(t){return a("TalkMessage",{key:t.id+"-"+t.sid,attrs:{"can-edit":!0,position:t.position,message:t},on:{deleted:function(a){return e.onMessageDeleted(t)}}})}),a("div",{directives:[{name:"show",rawName:"v-show",value:0===e.remaining,expression:"remaining === 0"}],staticClass:"talk-closed"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.talk.closedAt,expression:"talk.closedAt"}],staticClass:"status-step-panel alert alert-secondary"},[a("label",{staticClass:"status-step-panel__label"},[e._v(" 結束對話。 交談時間 : "+e._s(e._f("tcf")(e.talk.timeService))+" ")]),a("small",{staticClass:"status-step-panel__time"},[e._v("\n                        "+e._s(e._f("dt")(e.talk.closedAt,"HH:mm"))+"\n                    ")])])])],2)],1):e._e()])},g=[],j=(a("c5f6"),a("75fc")),k=a("66aa"),_=a("8403"),w=a("c1df"),O=a.n(w);function C(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach(function(t){Object(n["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var P={id:0,name:"",imageUrl:"",online:!1},x=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(u["a"])(this,Object(p["a"])(t).apply(this,arguments)),e.talk=null,e.messages=[],e.remaining=1,e.loading={message:!1},e}return Object(d["a"])(t,e),Object(c["a"])(t,[{key:"watchId",value:function(e){this.talk=null,this.messages=[],this.remaining=1,e>0&&(v["c"].talks.joinTalk(this.id),this.loadTalk(),this.loadAfterMessages())}},{key:"watchLastMessageId",value:function(){0===this.remaining&&this.loadAfterMessages()}},{key:"loadTalk",value:function(){var e=this;v["a"].get("/talks/".concat(this.id)).then(function(t){e.talk=t})}},{key:"loadAfterMessages",value:function(){var e=this,t=this.maxMessageId;return this.loading.message?Promise.reject():(this.loading.message=!0,v["a"].get("/talks/".concat(this.id,"/messages-after/").concat(t)).then(function(t){e.remaining=t.remaining,e.messages=[].concat(Object(j["a"])(e.messages),Object(j["a"])(t.rows.map(function(e){return{id:e.id,sid:0,user:e.user||S({},P),fromType:e.fromType,talkId:e.talkId,content:e.content,type:e.type,time:O()(e.createdAt).valueOf(),position:"service"===e.fromType?_["a"].Right:_["a"].Left}})))}).finally(function(){e.loading.message=!1}))}},{key:"onMessageDeleted",value:function(e){this.messages=this.messages.filter(function(t){return t.id!==e.id})}},{key:"maxMessageId",get:function(){return this.messages.filter(function(e){return e.id>0}).reduce(function(e,t){return Math.max(e,t.id)},0)}},{key:"user",get:function(){return b["a"].state.User}},{key:"lastMessageId",get:function(){var e=this.id,t=b["a"].state.Talks.talks.find(function(t){return t.id===e});this.user.id;return t&&t.lastMessage?t.lastMessage.id:0}}]),t}(f["d"]);m["a"]([Object(f["c"])(Number)],x.prototype,"id",void 0),m["a"]([Object(f["e"])("id",{immediate:!0})],x.prototype,"watchId",null),m["a"]([Object(f["e"])("lastMessageId")],x.prototype,"watchLastMessageId",null),x=m["a"]([Object(f["a"])({components:{Profile:k["a"],TalkMessage:_["b"]}})],x);var N=x,F=N,T=(a("49ee"),a("2877")),D=Object(T["a"])(F,y,g,!1,null,"ef142924",null),E=D.exports,A=a("1942"),M=a("c038");function I(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function $(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(a,!0).forEach(function(t){Object(n["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var L=Object(h["b"])("talk-record"),B=Object(h["b"])("common"),z=[B("times.sun"),B("times.mon"),B("times.tue"),B("times.wed"),B("times.thu"),B("times.fri"),B("times.sat")];window.moment=O.a;var H=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(u["a"])(this,Object(p["a"])(t).apply(this,arguments)),e.responseRows=[],e.response=null,e.viewTalkId=0,e.query={dateRange:[],status:[],ip:"",executiveUsername:"",waitingOperator:"above",waitingTime:""},e.loading={list:!1},e}return Object(d["a"])(t,e),Object(c["a"])(t,[{key:"watchTalks",value:function(){1===this.$refs.grid.query.page&&this.reload(1)}},{key:"watchMaxStartTime",value:function(){this.updateRows()}},{key:"watchMaxClosedTime",value:function(){this.updateRows()}},{key:"watchLastStartTalkId",value:function(e){e&&this.$router.push("/talks")}},{key:"mounted",value:function(){this.clearQuery()}},{key:"rowClass",value:function(e){var t=e.row,a=["tr-customer"];return t.id===this.viewTalkId&&a.push("active"),a}},{key:"customerOnlineClass",value:function(e){var t=e.talk;return{"alert-success":t&&t.online||!1}}},{key:"startTalk",value:function(e){v["c"].talks.startTalk(e.id)}},{key:"activeTalk",value:function(e){v["c"].talks.activeTalk(e.id)}},{key:"viewTalk",value:function(e){this.viewTalkId===e?this.viewTalkId=0:this.viewTalkId=e}},{key:"clearQuery",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.query.dateRange=[],this.query.status=this.statusOptions.map(function(e){return e.value}),this.query.executiveUsername="",this.query.waitingOperator="above",this.query.waitingTime="",this.query.ip="",e&&this.reload()}},{key:"reload",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=this.query,s=a.dateRange,o=Object(r["a"])(a,["dateRange"]),n=s||[],l=Object(i["a"])(n,2),c=l[0],u=void 0===c?null:c,p=l[1],d=void 0===p?null:p,m=$({},this.$refs.grid.query,{page:t},o,{stime:u?O()(u).format("YYYY-MM-DD HH:mm:ss"):"",etime:d?O()(d).format("YYYY-MM-DD 23:59:59"):""});this.loading.list||(this.response=v["a"].get("/talks",{data:m}).then(function(t){return e.responseRows=t.rows.map(function(e){return $({},e,{talk:null,canEnter:!1,canView:!1})}),e.updateRows(),$({},t,{rows:e.responseRows})}))}},{key:"updateRows",value:function(){this.user.id,this.isSupervisor;this.responseRows.forEach(function(e){var t=b["a"].state.Talks.talks.find(function(t){return t.id===e.id});t&&(e.talk=t,e.status=t.status,e.timeWaiting=t.startAt?t.startAt-t.createdAt:0,e.timeService=t.startAt&&t.closedAt?t.closedAt-t.startAt:0,!e.startAt&&t.startAt&&(e.startAt=O()(t.startAt).format("YYYY-MM-DD HH:mm:ss")),!e.closedAt&&t.closedAt&&(e.closedAt=O()(t.closedAt).format("YYYY-MM-DD HH:mm:ss")),e.canEnter="start"===e.status),e.canView=!(!e.startAt||!Object(A["a"])(["closed","shutdown"],e.status))})}},{key:"queryByIP",value:function(e){this.clearQuery(),this.query.ip=e,this.reload()}},{key:"pickerOptions",get:function(){return{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},{key:"user",get:function(){return b["a"].state.User}},{key:"isSupervisor",get:function(){return"supervisor"===this.user.role}},{key:"activeId",get:function(){return b["a"].state.Talks.activeId}},{key:"talks",get:function(){return b["a"].state.Talks.talks}},{key:"statusOptions",get:function(){var e=["waiting","start","closed","unprocessed","shutdown"];return e.map(function(e){return{value:e,label:"common.talk-status.".concat(e)}})}},{key:"maxWaitingTime",get:function(){return this.talks.reduce(function(e,t){return Math.max(e,t.createdAt)},0)}},{key:"maxStartTime",get:function(){return this.talks.reduce(function(e,t){return Math.max(e,t.startAt)},0)}},{key:"maxClosedTime",get:function(){return this.talks.reduce(function(e,t){return Math.max(e,t.closedAt)},0)}}]),t}(f["d"]);m["a"]([Object(f["e"])("maxWaitingTime")],H.prototype,"watchTalks",null),m["a"]([Object(f["e"])("maxStartTime")],H.prototype,"watchMaxStartTime",null),m["a"]([Object(f["e"])("maxClosedTime")],H.prototype,"watchMaxClosedTime",null),m["a"]([Object(f["e"])("activeId")],H.prototype,"watchLastStartTalkId",null),H=m["a"]([Object(f["a"])({filters:{pt:L,dtc:function(e){var t=O()(),a=O()(e),s=t.diff(a,"day"),o=t.get("day");return s<2?B(0===s?"times.today":"times.yesterday"):o>s?z[a.get("day")]:B("times.some-days-ago",{some:s})}},components:{TalkHistory:E,Talk:M["a"]}})],H);var R=H,U=R,W=(a("b0af"),a("32e4"),Object(T["a"])(U,s,o,!1,null,"593d32c4",null));t["default"]=W.exports},"313c":function(e,t,a){"use strict";var s=a("d225"),o=a("b0b4"),n=a("308d"),i=a("6bb5"),r=a("4e2b"),l=a("9ab4"),c=a("60a3"),u=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(n["a"])(this,Object(i["a"])(t).apply(this,arguments)),e.OffEventListeners=[],e}return Object(r["a"])(t,e),Object(o["a"])(t,[{key:"addListener",value:function(e,t,a){var s=function(){console.warn("off"),e.removeEventListener(t,a)};return e.addEventListener(t,a),this.OffEventListeners.push(s),s}}]),t}(c["d"]);u=l["a"]([c["a"]],u),t["a"]=u},3265:function(e,t,a){},"328d":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("PageWrapper",{attrs:{title:e._f("pt")(e.title)}},[a("div",{staticClass:"UserEdit-Coponent row justify-content-md-center"},[a("form",{staticClass:"col-xl-4 col-md-6 col-12",on:{submit:function(t){return t.preventDefault(),e.save(t)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"edit-username"}},[e._v(e._s(e._f("pt")("username")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"text",id:"edit-username",name:"username",disabled:!e.isSupervisor},domProps:{value:e.user.username},on:{input:function(t){t.target.composing||e.$set(e.user,"username",t.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isAdd,expression:"isAdd"}],staticClass:"form-group"},[a("label",{attrs:{for:"edit-password"}},[e._v(e._s(e._f("pt")("password")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",name:"password"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"edit-name"}},[e._v(e._s(e._f("pt")("name")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name,expression:"user.name"}],staticClass:"form-control",attrs:{type:"text",id:"edit-name",name:"name"},domProps:{value:e.user.name},on:{input:function(t){t.target.composing||e.$set(e.user,"name",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"edit-role"}},[e._v(e._s(e._f("pt")("role")))]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.user.role,expression:"user.role"}],staticClass:"form-control",attrs:{id:"edit-role",name:"role"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.user,"role",t.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:""},domProps:{value:null}},[e._v(e._s(e._f("t")("common.please-select")))]),e._l(e.roleOptions,function(t){return a("option",{key:t.value,domProps:{value:t.value}},[e._v(e._s(e._f("t")(t.label)))])})],2)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col"}),a("div",{staticClass:"col-auto"},[a("el-button",{attrs:{outlind:"",disabled:e.loading.save},on:{click:e.cancel}},[a("i",{staticClass:"material-icons"},[e._v("arrow_back")]),e._v("\n                    "+e._s(e._f("t")("common.cancel"))+"\n                ")]),a("el-button",{attrs:{"native-type":"submit",loading:e.loading.save,type:"primary"}},[a("i",{staticClass:"material-icons"},[e._v("save_alt")]),e._v("\n                    "+e._s(e._f("t")("common.save"))+"\n                ")])],1)])])])])},o=[],n=(a("8e6e"),a("ac6a"),a("456d"),a("c5f6"),a("bd86")),i=(a("7f7f"),a("7514"),a("d225")),r=a("b0b4"),l=a("308d"),c=a("6bb5"),u=a("4e2b"),p=a("9ab4"),d=a("60a3"),m=a("7c04"),f=a("88c3"),b=a("5c69"),h=a("3a0b");function v(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(a,!0).forEach(function(t){Object(n["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var g=Object(f["b"])("users"),j=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(l["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.pt=g,e.user={id:0,username:"",password:"",role:null,name:"",image:""},e.imageUrl="",e.loading={save:!1,find:!1},e}return Object(u["a"])(t,e),Object(r["a"])(t,[{key:"mounted",value:function(){this.reload()}},{key:"reload",value:function(){var e=this,t=this.id;this.user.username="",this.user.role=null,this.user.name="",this.user.image="",this.loading.find||0===this.id||(this.loading.find=!0,m["a"].get("/users/".concat(t)).then(function(t){e.user.username=t.username,e.user.role=t.role,e.user.name=t.name,e.user.image=t.image,e.imageUrl=t.imageUrl}).finally(function(){return e.loading.find=!1}))}},{key:"cancel",value:function(){this.$router.back()}},{key:"save",value:function(){var e=this,t=this.id,a=y({},this.user);this.loading.save||(this.clearInvalids(),this.loading.save=!0,m["a"].post("/users/".concat(t,"/save"),{data:a}).then(function(){return e.cancel()}).catch(function(t){console.error(t),e.setInvalids(t)}).finally(function(){return e.loading.save=!1}))}},{key:"isSupervisor",get:function(){return"supervisor"===h["a"].state.User.role}},{key:"id",get:function(){return Number(this.$route.params.id)||0}},{key:"isAdd",get:function(){return 0===this.id}},{key:"title",get:function(){return this.isAdd?"title.add":"title.edit"}},{key:"roleOptions",get:function(){return[{value:"supervisor",label:"common.roles.supervisor"},{value:"executive",label:"common.roles.executive"}]}}]),t}(Object(d["b"])(b["a"]));j=p["a"]([Object(d["a"])({filters:{pt:g}})],j);var k=j,_=k,w=(a("ccc0"),a("2877")),O=Object(w["a"])(_,s,o,!1,null,"1c64d4ea",null);t["default"]=O.exports},"32e4":function(e,t,a){"use strict";var s=a("8321"),o=a.n(s);o.a},"36ad":function(e,t,a){},"38bc":function(e,t,a){"use strict";var s=a("7d18"),o=a.n(s);o.a},"3a0b":function(e,t,a){"use strict";a("8e6e"),a("ac6a"),a("456d");var s=a("bd86"),o=(a("7514"),a("2b0e")),n=a("2f62");a("28a5");function i(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(a,!0).forEach(function(t){Object(s["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var l="es",c=location.pathname.split("/").pop()||"",u=0,p={status:function(e,t){e.status=t},users:function(e,t){e.users=t},notice:function(e,t){e.notices.push(r({},t,{id:++u}))},"system-config":function(e,t){e.systemConfig=t},"notice-clear":function(e,t){e.notices=e.notices.filter(function(e){return e.id>t})}},d={state:{status:"disconnected",notices:[],users:[],version:"1.1.1",isManager:l===c,namespace:c,systemConfig:{talkConnectLimit:0}},mutations:p},m=d,f=(a("7f7f"),localStorage.getItem("token")||""),b={login:function(e,t){e.id=t.id,e.imageUrl=t.imageUrl,e.username=t.username,e.companyId=t.companyId,e.name=t.name,e.role=t.role,e.loginAt=t.loginAt,e.token=t.token,localStorage.setItem("token",t.token)},logout:function(e){e.id=0,e.username="",e.companyId=0,e.name="",e.role="executive",e.loginAt="",e.token="",localStorage.removeItem("token")},"login-check":function(e){e.loginCheck=!0},"update-personal":function(e,t){e.name=t.name,e.imageUrl=t.imageUrl}},h={state:{id:0,username:"",companyId:0,name:"",imageUrl:"",role:"executive",loginAt:"",token:f,loginCheck:!1},mutations:b},v=h;function y(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(a,!0).forEach(function(t){Object(s["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var j={"talks/filter":function(e,t){e.filterTalk=t},"talks/pause:toggle":function(e,t){e.pause=!0===t},"talks/talks":function(e,t){e.talks=t.map(function(e){return g({online:!1,unreads:0,lastReadId:0,status:"offline",lastMessage:null},e)})},"talks/talk":function(e,t){var a=e.talks.find(function(e){return e.id===t.id});a?Object.assign(a,g({},t)):e.talks.push(g({online:!1,unreads:0,lastMessage:null,status:"waiting",lastReadId:0},t))},"talks/talk-online":function(e,t){var a=e.talks.find(function(e){return e.id===t.talkId});a&&(a.online=!0,a.disconnectedAt=0)},"talks/talk-offline":function(e,t){var a=e.talks.find(function(e){return e.id===t.talkId});a&&(a.online=!1,a.disconnectedAt=t.disconnectedAt)},"talks/talk-executive":function(e,t){var a=e.talks.find(function(e){return e.id===t.talkId});a&&Object.assign(a.executive,t.executive)},"talks/talk-closed":function(e,t){e.talks=e.talks.filter(function(e){return e.id!==t.talkId})},"talks/talk-unprocessed":function(e,t){var a=e.talks.find(function(e){return e.id===t.talkId});a&&(a.status="unprocessed",a.closedAt=t.closedAt)},"talks/talk-start":function(e,t){var a=e.talks.find(function(e){return e.id===t.talkId});a&&(a.startAt=t.startAt,a.executive=t.executive,a.status=t.status)},"talks/talk-watchers":function(e,t){e.watchers=t},"talks/rooms":function(e,t){e.rooms=t.map(function(e){return g({},e)})},"talks/message":function(e,t){var a=e.talks.find(function(e){return e.id===t.talkId});a&&(a.lastMessage=g({},t),e.activeId!==t.talkId&&(a.unreads+=1))},"talks/active":function(e,t){var a=e.talks.find(function(e){return e.id===t.talkId});a&&(a.unreads=0,e.activeId=t.talkId)},"talks/unactive":function(e){e.activeId=0}},k={state:{activeId:0,filterTalk:"all",talks:[],rooms:[],watchers:[],pause:!1},mutations:j},_=k;function w(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(a,!0).forEach(function(t){Object(s["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}o["default"].use(n["a"]);var C=new n["a"].Store({modules:{App:m,User:v,Talks:_},mutations:{},actions:{},getters:{activeTalk:function(e){var t=e.Talks,a=t.talks,s=t.activeId;return a.find(function(e){return e.id===s})||null},lastTalkId:function(e){return e.Talks.talks.reduce(function(e,t){return Math.max(e,t.id)},0)},talks:function(e){var t=e.Talks.watchers;return e.Talks.talks.map(function(e){return O({},e,{watching:t.indexOf(e.id)>=0})})}}});t["a"]=C},"3d57":function(e,t,a){"use strict";var s=a("9a21"),o=a.n(s);o.a},4331:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"DropFileUpload-Component",on:{dragenter:function(t){return t.preventDefault(),t.stopPropagation(),e.onDragEnter(t)}}},[e._t("default"),a("div",{directives:[{name:"show",rawName:"v-show",value:e.drag,expression:"drag"}],ref:"dropPanel",staticClass:"drag-upload-panel",class:{notAllowType:e.notAllowType},attrs:{dropzone:"copy"},on:{dragleave:function(t){return t.preventDefault(),t.stopPropagation(),e.onDragLeave(t)},dragover:function(e){e.preventDefault(),e.stopPropagation()},drop:function(t){return t.preventDefault(),t.stopPropagation(),e.onDropFile(t)}}},[e._t("background",[a("i",{directives:[{name:"show",rawName:"v-show",value:!e.notAllowType,expression:"!notAllowType"}],staticClass:"upload-image-icon material-icons"},[e._v("photo")])]),e._t("not-allow-background",[a("i",{directives:[{name:"show",rawName:"v-show",value:e.notAllowType,expression:"notAllowType"}],staticClass:"not-allow-icon material-icons"},[e._v("not_interested")])])],2)],2)},o=[],n=(a("5df3"),a("1c4c"),a("d225")),i=a("b0b4"),r=a("308d"),l=a("6bb5"),c=a("4e2b"),u=a("9ab4"),p=a("60a3"),d=function(e){function t(){var e;return Object(n["a"])(this,t),e=Object(r["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.drag=!1,e.notAllowType=!1,e}return Object(c["a"])(t,e),Object(i["a"])(t,[{key:"onDragEnter",value:function(e){var t=this.exts||[],a=this.disabled,s=e.dataTransfer;if(s&&0!==s.items.length&&!a){this.drag=!0;var o=Array.from(s.items),n=o.some(function(e){return"file"!==e.kind||t.length>0&&t.indexOf(e.type)<0});n&&(this.notAllowType=!0)}}},{key:"onDragLeave",value:function(e){this.drag=!1,this.notAllowType=!1}},{key:"onDropFile",value:function(e){if(this.drag&&!this.notAllowType&&e.dataTransfer){var t=Array.from(e.dataTransfer.files)||[];this.$emit("drop-files",{files:t,event:e})}this.drag=!1,this.notAllowType=!1}}]),t}(p["d"]);u["a"]([Object(p["c"])({type:Array,default:[]})],d.prototype,"exts",void 0),u["a"]([Object(p["c"])(Boolean)],d.prototype,"disabled",void 0),d=u["a"]([p["a"]],d);var m=d,f=m,b=(a("9df3"),a("2877")),h=Object(b["a"])(f,s,o,!1,null,null,null);t["a"]=h.exports},"44c9":function(e,t,a){"use strict";var s=a("5076"),o=a.n(s);o.a},4678:function(e,t,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(e){var t=n(e);return a(t)}function n(e){var t=s[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}o.keys=function(){return Object.keys(s)},o.resolve=n,e.exports=o,o.id="4678"},"49ee":function(e,t,a){"use strict";var s=a("e055"),o=a.n(s);o.a},"49f8":function(e,t,a){var s={"./zh-tw.json":"cb6e"};function o(e){var t=n(e);return a(t)}function n(e){var t=s[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}o.keys=function(){return Object.keys(s)},o.resolve=n,e.exports=o,o.id="49f8"},"4b1c":function(e,t,a){"use strict";var s=a("0035"),o=a.n(s);o.a},5076:function(e,t,a){},5142:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("PageWrapper",{attrs:{title:"成員管理"}},[a("div",{staticClass:"UserList-Component"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.reload(1)}}},[a("div",{staticClass:"row form-group"},[e.isSupervisor?a("div",{staticClass:"col-auto col-md-2"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.query.role,expression:"query.role"}],staticClass:"form-control custom-select-sm",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.query,"role",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"all"}},[e._v(e._s(e._f("t")("common.all")))]),e._l(e.roleOptions,function(t){return a("option",{key:t.value,domProps:{value:t.value}},[e._v(e._s(e._f("t")(t.label)))])})],2)]):e._e(),a("div",{staticClass:"col"}),a("div",{staticClass:"col-auto"},[e.isSupervisor?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.edit(0)}}},[a("span",{staticClass:"material-icons"},[e._v("add")]),e._v("\n                        "+e._s(e._f("t")("common.add"))+"\n                    ")]):e._e(),a("el-button",{attrs:{size:"mini",loading:e.loading.list,"native-type":"submit"}},[a("i",{staticClass:"material-icons"},[e._v("search")]),e._v("\n                        "+e._s(e._f("t")("common.search"))+"\n                    ")])],1)])]),a("ListGrid",{ref:"grid",attrs:{data:e.response,loading:e.loading.list,size:"mini"},on:{"update:loading":function(t){return e.$set(e.loading,"list",t)},reload:e.reload}},[a("el-table-column",{attrs:{label:"ID",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("div",{staticClass:"table-col"},[e._v("# "+e._s(s.id))])]}}])}),a("el-table-column",{attrs:{label:"Profile",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;return[a("Profile",{attrs:{url:t.imageUrl,size:"small",type:"service",online:t.online}})]}}])}),a("el-table-column",{attrs:{prop:"username",width:"160",label:e._f("pt")("username")},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("div",{staticClass:"table-col"},[e._v(e._s(s.username))])]}}])}),a("el-table-column",{attrs:{prop:"name",label:e._f("pt")("name")},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("div",{staticClass:"table-col"},[e._v(e._s(s.name))])]}}])}),a("el-table-column",{attrs:{prop:"role",label:e._f("pt")("role"),align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("div",{staticClass:"table-col"},[a("div",{class:e.roleClass(s)},[e._v("\n                            "+e._s(e._f("t")("common.roles."+s.role))+"\n                        ")])])]}}])}),e.isSupervisor?a("el-table-column",{attrs:{align:"center",width:"80",label:e._f("t")("common.status-enabled")},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("ToggleButton",{attrs:{value:s.promiseEnabled},on:{change:function(t){return e.toggleStatus(s,t)}}})]}}],null,!1,1287313021)}):e._e(),e.isSupervisor?a("el-table-column",{attrs:{align:"center",width:"90",label:e._f("pt")("login-errors")},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[s.loginErrors?a("el-button",{staticClass:"btn-tiny",attrs:{size:"mini",type:e.loginErrorButtonType(s)},on:{click:function(t){return t.preventDefault(),e.resetLoginErrors(s)}}},[e._v("\n                        ("+e._s(e._f("t")("common.reset"))+")\n                        "+e._s(s.loginErrors)+"\n                    ")]):a("span",[e._v(e._s(s.loginErrors))])]}}],null,!1,3305694117)}):e._e(),e.isSupervisor?a("el-table-column",{attrs:{prop:"ip",align:"center",label:e._f("pt")("ip")},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("a",{staticClass:"col-ip",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.showLogLogin(s)}}},[e._v("\n                        "+e._s(s.logLast.ip)+"\n                    ")]),s.ipInfo?a("div",{staticClass:"ip-info"},[e._v("\n                        "+e._s(s.ipInfo.name)+" ("+e._s(s.ipInfo.country)+")\n                    ")]):e._e()]}}],null,!1,3470147632)}):e._e(),e.isSupervisor?a("el-table-column",{attrs:{prop:"info",align:"center",label:e._f("t")("common.browser-info")},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[s.logLast?a("a",{staticClass:"col-browser-info text-primary",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.showLogLogin(s)}}},[a("div",[e._v("\n                            "+e._s(s.logLast.device)+" / "+e._s(s.logLast.os)+"\n                        ")]),a("div",[e._v("\n                            "+e._s(s.logLast.browser)+"\n                        ")])]):e._e()]}}],null,!1,1527711299)}):e._e(),e.isSupervisor?a("el-table-column",{attrs:{prop:"loginAt",align:"center",width:"90",label:e._f("pt")("login-at")},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("div",{staticClass:"col-login-at"},[e._v("\n                        "+e._s(e._f("dt")(s.logLast.createdAt,"YYYY-MM-DD HH:mm:ss"))+"\n                    ")])]}}],null,!1,114740019)}):e._e(),e.isSupervisor?a("el-table-column",{attrs:{label:e._f("t")("common.options"),align:"center",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isSupervisor,expression:"isSupervisor"}],staticClass:"btn-tiny",attrs:{size:"mini"},on:{click:function(t){return e.editPassword(s)}}},[e._v("\n                        "+e._s(e._f("t")("common.edit-password"))+"\n                    ")]),a("el-button",{staticClass:"btn-tiny",attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.edit(s.id)}}},[e._v("\n                        "+e._s(e._f("t")("common.edit"))+"\n                    ")])]}}],null,!1,675103751)}):e._e()],1),a("UpdatePasswordDialog",{ref:"pwd",attrs:{url:e.updatePasswordUrl,name:e.updatePassword.name,old:!1}}),a("LogUserLoginDialog",{ref:"log"})],1)])},o=[],n=(a("8e6e"),a("456d"),a("7f7f"),a("bd86")),i=(a("ac6a"),a("d225")),r=a("b0b4"),l=a("308d"),c=a("6bb5"),u=a("4e2b"),p=a("9ab4"),d=a("60a3"),m=a("7c04"),f=a("88c3"),b=a("3a0b"),h=a("1942"),v=a("66aa"),y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"UpdatePasswordDialog-Component",attrs:{visible:e.visible,"close-on-click-modal":!1,title:e.title},on:{"update:visible":function(t){e.visible=t}}},[a("form",{on:{submit:function(t){return t.preventDefault(),e.save()}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.old,expression:"old"}],staticClass:"form-group"},[a("label",{attrs:{for:"old-password"}},[e._v(e._s(e._f("pt")("old-password")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.input.oldPassword,expression:"input.oldPassword"}],staticClass:"form-control",attrs:{id:"old-password",type:"password",name:"oldPassword"},domProps:{value:e.input.oldPassword},on:{input:function(t){t.target.composing||e.$set(e.input,"oldPassword",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"new-password"}},[e._v(e._s(e._f("pt")("new-password")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.input.newPassword,expression:"input.newPassword"}],staticClass:"form-control",attrs:{id:"new-password",type:"password",name:"newPassword"},domProps:{value:e.input.newPassword},on:{input:function(t){t.target.composing||e.$set(e.input,"newPassword",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"confirm-password"}},[e._v(e._s(e._f("pt")("confirm-password")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.input.confirmPassword,expression:"input.confirmPassword"}],staticClass:"form-control",attrs:{id:"confirm-password",type:"password",name:"confirmPassword"},domProps:{value:e.input.confirmPassword},on:{input:function(t){t.target.composing||e.$set(e.input,"confirmPassword",t.target.value)}}})]),a("div",{staticClass:"row"},[a("div",{staticClass:"col"}),a("div",{staticClass:"col-auto"},[a("el-button",{attrs:{outlind:"",disabled:e.loading},on:{click:e.cancel}},[e._v("\n                    "+e._s(e._f("t")("common.cancel"))+"\n                ")]),a("el-button",{attrs:{"native-type":"submit",loading:e.loading,type:"primary"}},[e._v("\n                    "+e._s(e._f("t")("common.save"))+"\n                ")])],1)])])])},g=[],j=a("5c69"),k=Object(f["b"])("component.update-password-dialog"),_=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(l["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.pt=k,e.visible=!1,e.loading=!1,e.input={oldPassword:"",newPassword:"",confirmPassword:""},e}return Object(u["a"])(t,e),Object(r["a"])(t,[{key:"open",value:function(){this.input.oldPassword="",this.input.newPassword="",this.input.confirmPassword="",this.clearInvalids(),this.visible=!0}},{key:"cancel",value:function(){this.visible=!1}},{key:"save",value:function(){var e=this,t=this.input;this.loading||(this.clearInvalids(),this.loading=!0,this.isInvalid({confirmPassword:function(e){e(t.newPassword===t.confirmPassword||k("confirm-password-error"))}}).then(function(){m["a"].post(e.url,{data:t}).then(function(){e.cancel()}).catch(function(t){console.error(t),e.setInvalids(t)})}).finally(function(){e.loading=!1}))}},{key:"title",get:function(){return k("title",{name:this.name})}}]),t}(j["a"]);p["a"]([Object(d["c"])({type:String,required:!0})],_.prototype,"url",void 0),p["a"]([Object(d["c"])({type:Boolean,default:!1})],_.prototype,"old",void 0),p["a"]([Object(d["c"])({type:String})],_.prototype,"name",void 0),_=p["a"]([Object(d["a"])({filters:{pt:k}})],_);var w=_,O=w,C=a("2877"),S=Object(C["a"])(O,y,g,!1,null,null,null),P=S.exports,x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"LogUserLoginDialog-Component",attrs:{visible:e.visible,width:"1000px",top:"2rem",title:e.title},on:{"update:visible":function(t){e.visible=t}}},[a("ListGrid",{ref:"grid",attrs:{data:e.response,loading:e.loading,size:"mini",fixed:!0},on:{"update:loading":function(t){e.loading=t},change:e.reload}},[a("el-table-column",{attrs:{label:"ID",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("div",{staticClass:"table-col"},[e._v("# "+e._s(s.id))])]}}])}),a("el-table-column",{attrs:{prop:"ip",align:"center",label:e._f("pt")("ip")},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("span",{staticClass:"col-ip text-primary"},[e._v("\n                    "+e._s(s.ip)+"\n                ")]),s.ipInfo?a("span",{staticClass:"col-ip-info"},[e._v("\n                    "+e._s(s.ipInfo.name)+" ("+e._s(s.ipInfo.country)+")\n                ")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"info",align:"center",label:e._f("t")("common.browser-info")},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("div",{staticClass:"col-browser-info text-primary"},[a("div",[e._v("\n                        "+e._s(s.device)+" / "+e._s(s.os)+"\n                    ")]),a("div",[e._v("\n                        "+e._s(s.browser)+"\n                    ")])])]}}])}),a("el-table-column",{attrs:{prop:"message",align:"center",width:"140",label:e._f("pt")("login-at")},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return["success"===s.status?a("div",{staticClass:"alert alert-success"},[e._v("\n                    "+e._s(s.status)+"\n                ")]):a("div",{staticClass:"alert alert-danger col-message"},[e._v("\n                    "+e._s(s.message)+"\n                ")])]}}])}),a("el-table-column",{attrs:{prop:"createdAt",align:"center",width:"140",label:e._f("pt")("login-at")},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("div",{staticClass:"col-login-at"},[e._v("\n                    "+e._s(e._f("dt")(s.createdAt,"YYYY-MM-DD HH:mm:ss"))+"\n                ")])]}}])}),a("el-table-column",{attrs:{label:e._f("t")("common.options"),width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.row;return[a("el-button",{staticClass:"btn-tiny",attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.deleteLog(s)}}},[e._v("\n                    "+e._s(e._f("t")("common.delete"))+"\n                ")])]}}])})],1)],1)},N=[];function F(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(a,!0).forEach(function(t){Object(n["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var D=Object(f["b"])("log-user-login"),E=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(l["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.response=null,e.pt=D,e.visible=!1,e.user={id:0,username:"",name:""},e.query={},e.loading=!1,e}return Object(u["a"])(t,e),Object(r["a"])(t,[{key:"open",value:function(e){var t=this;this.visible=!0,this.user.id=e.id,this.user.username=e.username,this.user.name=e.name,this.$nextTick(function(){return t.reload()})}},{key:"cancel",value:function(){this.visible=!1,this.user.id=0,this.user.username="",this.user.name=""}},{key:"reload",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(console.info(e),!this.loading&&0!==this.user.id){var t=this.user.id,a=T({},this.$refs.grid.query,{},this.query,{page:e});this.response=m["a"].get("/users/".concat(t,"/log-login"),{data:a})}}},{key:"deleteLog",value:function(e){}},{key:"title",get:function(){return D("title",{username:this.user.username,name:this.user.name})}}]),t}(d["d"]);E=p["a"]([Object(d["a"])({filters:{pt:D}})],E);var A=E,M=A,I=(a("5563"),Object(C["a"])(M,x,N,!1,null,"76a44214",null)),$=I.exports;function L(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function B(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(a,!0).forEach(function(t){Object(n["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var z=Object(f["b"])("users"),H=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(l["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.pt=z,e.users=[],e.responseRows=[],e.response=null,e.query={role:"all"},e.loading={list:!1},e.updatePassword={id:0,name:""},e}return Object(u["a"])(t,e),Object(r["a"])(t,[{key:"watchQueryRole",value:function(){this.reload(1)}},{key:"watchOnlineUsers",value:function(){var e=this.onlineUsers;this.responseRows.forEach(function(t){t.online=Object(h["a"])(e,t.id)})}},{key:"mounted",value:function(){this.reload()}},{key:"roleClass",value:function(e){return{"text-primary":"supervisor"===e.role,"text-secondary":"executive"===e.role}}},{key:"loginErrorButtonType",value:function(e){return e.loginErrors<5?"warning":"danger"}},{key:"reload",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=B({},this.$refs.grid.query,{},this.query,{page:t});this.response=m["a"].get("/users",{data:a}).then(function(t){var a=e.onlineUsers;return e.responseRows=t.rows.map(function(e){return B({},e,{logLast:e.logLast||{},promiseEnabled:Promise.resolve(e.enabled),online:Object(h["a"])(a,e.id)})}),Promise.resolve(B({},t,{rows:e.responseRows}))})}},{key:"edit",value:function(e){this.$router.push("/users/".concat(e))}},{key:"editPassword",value:function(e){this.updatePassword.id=e.id,this.updatePassword.name=e.name,this.$refs.pwd.open()}},{key:"toggleStatus",value:function(e,t){var a={enabled:t};e.promiseEnabled=m["a"].post("/users/".concat(e.id,"/toggle"),{data:a}).then(function(){return t})}},{key:"resetLoginErrors",value:function(e){var t=this;m["a"].post("/users/".concat(e.id,"/reset-login-errors")).finally(function(){t.reload(t.$refs.grid.query.page)})}},{key:"showLogLogin",value:function(e){this.$refs.log.open({id:e.id,username:e.username,name:e.name})}},{key:"user",get:function(){return b["a"].state.User}},{key:"isSupervisor",get:function(){return"supervisor"===this.user.role}},{key:"tableData",get:function(){return{data:this.users}}},{key:"roleOptions",get:function(){return[{value:"supervisor",label:"common.roles.supervisor"},{value:"executive",label:"common.roles.executive"}]}},{key:"onlineUsers",get:function(){return b["a"].state.App.users.filter(function(e){return e.online}).map(function(e){return e.id})}},{key:"updatePasswordUrl",get:function(){return"/users/".concat(this.updatePassword.id,"/password")}}]),t}(d["d"]);p["a"]([Object(d["e"])("query.role")],H.prototype,"watchQueryRole",null),p["a"]([Object(d["e"])("onlineUsers")],H.prototype,"watchOnlineUsers",null),H=p["a"]([Object(d["a"])({filters:{pt:z},components:{Profile:v["a"],UpdatePasswordDialog:P,LogUserLoginDialog:$}})],H);var R=H,U=R,W=(a("d54b"),Object(C["a"])(U,s,o,!1,null,"2480ae2e",null));t["default"]=W.exports},"53e5":function(e,t,a){"use strict";var s=a("f316"),o=a.n(s);o.a},5563:function(e,t,a){"use strict";var s=a("f006"),o=a.n(s);o.a},"5c64":function(e,t,a){"use strict";var s=a("c2ae"),o=a.n(s);o.a},"5c69":function(e,t,a){"use strict";a("5df3"),a("ac6a"),a("456d");var s=a("d225"),o=a("b0b4"),n=a("308d"),i=a("6bb5"),r=a("4e2b"),l=a("9ab4"),c=a("60a3"),u=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(n["a"])(this,Object(i["a"])(t).apply(this,arguments)),e.formValidationData={},e}return Object(r["a"])(t,e),Object(o["a"])(t,[{key:"isInvalid",value:function(e){var t=this,a={data:null,errors:{},message:"",refresh:null},s=!1,o=Object.keys(e).map(function(t){var o=new Promise(function(a){e[t](a)});return o.then(function(e){!0!==e&&(s=!0,a.errors[t]=e)}),o});return Promise.all(o).then(function(){return s?(t.setInvalids(a),Promise.reject(a.errors)):Promise.resolve(!0)})}},{key:"clearInvalids",value:function(){this.$el.querySelectorAll(".fv-invalid-message").forEach(function(e){e.remove()}),this.$el.querySelectorAll(".fv-invalid").forEach(function(e){e.classList.remove("fv-invalid","is-invalid")})}},{key:"setInvalids",value:function(e){var t=this;this.clearInvalids(),console.warn(e),e&&e.errors&&Object.keys(e.errors).forEach(function(a){var s=t.$el.querySelector("[name='".concat(a,"']"));if(s&&e.errors[a]){var o=document.createElement("div"),n=Array.isArray(e.errors[a])?e.errors[a]:[e.errors[a]];o.setAttribute("class","invalid-feedback fv-invalid-message"),o.innerText=n.join(", ");var i=s.closest(".el-input-wrapper")||s.parentElement;i&&(i.appendChild(o),i.classList.contains("el-input-wrapper")&&i.classList.add("fv-invalid","is-invalid"),s.classList.add("fv-invalid","is-invalid"))}})}}]),t}(c["d"]);u=l["a"]([c["a"]],u),t["a"]=u},"5e27":function(e,t,a){},"64ef":function(e,t,a){e.exports=a.p+"img/customer.db5f655d.svg"},"66aa":function(e,t,a){"use strict";var s,o,n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Profile-Component",class:e.className},[a("el-tooltip",{attrs:{placement:"right",effect:"light",disabled:!e.url}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("img",{attrs:{src:e.url}})]),a("div",{staticClass:"profile"},[e.url?a("img",{staticClass:"min-image",attrs:{src:e.url}}):a("object",{staticClass:"svg-icon",attrs:{data:e.icons[e.type]}})])])],1)},i=[],r=a("d225"),l=a("b0b4"),c=a("308d"),u=a("6bb5"),p=a("4e2b"),d=a("9ab4"),m=a("60a3"),f=a("1942"),b=a("ab33"),h=a("64ef");(function(e){e["Mini"]="mini",e["Small"]="small",e["Medium"]="medium",e["Large"]="large"})(s||(s={})),function(e){e["Service"]="service",e["Customer"]="customer"}(o||(o={}));var v=function(e){function t(){return Object(r["a"])(this,t),Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments))}return Object(p["a"])(t,e),Object(l["a"])(t,[{key:"icons",get:function(){return{service:b,customer:h}}},{key:"className",get:function(){var e=this.online,t=this.size,a=[];return t&&a.push("size-".concat(t)),null!==e&&a.push("status status-".concat(e?"online":"offline")),a}}]),t}(m["d"]);d["a"]([Object(m["c"])(String)],v.prototype,"url",void 0),d["a"]([Object(m["c"])({type:String,validator:function(e){return Object(f["b"])(o,e)},required:!0})],v.prototype,"type",void 0),d["a"]([Object(m["c"])({type:String,validator:function(e){return!e||Object(f["b"])(s,e)},default:null})],v.prototype,"size",void 0),d["a"]([Object(m["c"])({type:Boolean,default:null})],v.prototype,"online",void 0),v=d["a"]([m["a"]],v);var y=v,g=y,j=(a("1c65"),a("2877")),k=Object(j["a"])(g,n,i,!1,null,"0b52a176",null);t["a"]=k.exports},"670d":function(e,t,a){},"6bff":function(e,t,a){"use strict";var s=a("a7ac"),o=a.n(s);o.a},"6ca2":function(e,t,a){},"6d0e":function(e,t,a){},7175:function(e,t,a){"use strict";var s=a("7deb"),o=a.n(s);o.a},"737a":function(e,t,a){"use strict";var s=a("e652"),o=a.n(s);o.a},"7c04":function(e,t,a){"use strict";a("8e6e"),a("ac6a"),a("456d");var s=a("7618"),o=a("bd86"),n=(a("28a5"),a("768b")),i=a("3a0b"),r=a("8055"),l=a.n(r),c=a("1157"),u=a.n(c);function p(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(a,!0).forEach(function(t){Object(o["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var m,f={alert:function(e){i["a"].commit("notice",e)},success:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.alert(d({},t,{message:e,type:"success"}))},warning:function(e,t){this.alert(d({},t,{message:e,type:"warning"}))},info:function(e,t){this.alert(d({},t,{message:e,type:"info"}))},error:function(e,t){this.alert(d({},t,{message:e,type:"error"}))},clear:function(e){i["a"].commit("notice-clear",e)}},b=(a("7514"),a("6b54"),{togglePause:function(e){k().emit("talks/pause:toggle",e)},startTalk:function(e){k().emit("talks/talk-start",{talkId:e}),this.activeTalk(e)},transferTo:function(e,t){k().emit("talks/transfer",{talkId:e,userId:t})},sendMessage:function(e,t){return new Promise(function(a,s){0;var o={content:t,talkId:e,type:"text/plain"};k().emit("talks/send",o,function(e){0===e.code?a(!0):s(e)})})},sendImage:function(e,t,a){return new Promise(function(s,o){var n={content:t,talkId:e,type:a};k().emit("talks/send",n,function(e){0===e.code?s(!0):o(e)})})},sendSticker:function(e,t){return new Promise(function(a,s){var o={content:t.toString(),talkId:e,type:"sticker"};k().emit("talks/send",o,function(e){0===e.code?a(!0):s(e)})})},joinTalk:function(e){k().emit("talks/talk-join",{talkId:e})},leaveTalk:function(e){k().emit("talks/talk-leave",{talkId:e})},closeTalk:function(e){k().emit("talks/talk-close",{talkId:e})},activeTalk:function(e){var t=i["a"].state.Talks.talks.find(function(t){return t.id===e});t&&(i["a"].state.Talks.activeId&&this.unactiveTalk(),i["a"].commit("talks/active",{talkId:e}),"start"===t.status&&t.executive.id!==i["a"].state.User.id&&this.joinTalk(e))},unactiveTalk:function(){this.leaveTalk(i["a"].state.Talks.activeId),i["a"].commit("talks/unactive")}});function h(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(a,!0).forEach(function(t){Object(o["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}a.d(t,"a",function(){return y}),a.d(t,"b",function(){return k});var y={apiUrl:function(e){var t=i["a"].state.User,a=t.token,s=t.companyId,o=e.split("?"),r=Object(n["a"])(o,2),l=r[0],c=r[1],u=void 0===c?"":c;return["/api/","/"===l[0]?l.substr(1):l,"?".concat(u,"&token=").concat(a,"&cid=").concat(s)].join("")},request:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=new Promise(function(s,o){u.a.ajax(t.apiUrl(e),v({},a,{contentType:"application/json"})).then(function(e){return s(e)}).fail(function(e){return o(e.responseJSON||{code:1,message:e.responseText})})});return s.catch(function(e){console.error(e),e.message&&f.error(e.message)}),s},post:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a="object"===Object(s["a"])(t.data)?JSON.stringify(t.data):t.data;return this.request(e,v({},t,{type:"post",data:a,contentType:"application/json"}))},get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request(e,v({},t,{type:"get"}))}},g=function(e){i["a"].commit("login",e),_&&_.reloadSystemConfig()},j=function e(t,a){m&&m.disconnect(),m=l()("/es/service",{query:{namespace:"es",token:i["a"].state.User.token}}),i["a"].commit("status","connecting"),m.on("connect",function(){i["a"].commit("status","connected"),m.on("disconnect",function(){i["a"].commit("logout"),i["a"].commit("status","disconnected"),e()}),m.on("login",g),m.on("users",function(e){return i["a"].commit("users",e)}),m.on("talks/talks",function(e){return i["a"].commit("talks/talks",e)}),m.on("talks/talk",function(e){return i["a"].commit("talks/talk",e)}),m.on("talks/talk-detail",function(e){console.info("detail"),i["a"].commit("talks/talk",e)}),m.on("talks/talk-online",function(e){return i["a"].commit("talks/talk-online",e)}),m.on("talks/talk-offline",function(e){return i["a"].commit("talks/talk-offline",e)}),m.on("talks/talk-closed",function(e){return i["a"].commit("talks/talk-closed",e)}),m.on("talks/talk-unprocessed",function(e){return i["a"].commit("talks/talk-unprocessed",e)}),m.on("talks/talk-start",function(e){return i["a"].commit("talks/talk-start",e)}),m.on("talks/talk-executive",function(e){return i["a"].commit("talks/talk-executive",e)}),m.on("talks/talk-watchers",function(e){return i["a"].commit("talks/talk-watchers",e)}),m.on("talks/pause:toggle",function(e){return i["a"].commit("talks/pause:toggle",e)}),m.on("talks/rooms",function(e){i["a"].commit("talks/rooms",e)}),m.on("talks/message",function(e){console.warn(e),i["a"].state.User.id!==e.user.id&&i["a"].commit("talks/message",e)})})};j("","");var k=function(){return m},_={login:function(e,t){return new Promise(function(a,s){m.emit("login",{username:e,password:t},function(t){if(0!==t.code)return s(t),void i["a"].commit("logout");g(v({},t.data,{username:e})),a()})})},reloadPersonalData:function(){y.get("/personal").then(function(e){i["a"].commit("update-personal",e)})},reloadSystemConfig:function(){return y.get("/system-config").then(function(e){i["a"].commit("system-config",e)})},check:function(){return new Promise(function(e){var t=i["a"].state.User.token;if(!t)return e(!1);m.emit("login",{token:t},function(t){0===t.code?(i["a"].commit("login",v({},t.data)),e(!0)):e(!1)})}).finally(function(){i["a"].commit("login-check")})},logout:function(){i["a"].commit("logout"),j("","")},talks:b,notice:f};t["c"]=_},"7d18":function(e,t,a){},"7deb":function(e,t,a){},"7ea6":function(e,t,a){},8321:function(e,t,a){},8403:function(e,t,a){"use strict";var s,o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"TalkMessage-Component",class:e.className},[e.message.isDeleted?a("div",{staticClass:"is-deleted-message"},[e._v("\n        "+e._s(e._f("pt")("message-is-deleted"))+"\n        "),a("i",{staticClass:"material-icons btn btn-sm remove-btn",on:{click:function(t){return e.removeMessage()}}},[e._v("clear")])]):e.editMode?a("form",{staticClass:"edit-panel",on:{submit:function(t){return t.preventDefault(),e.saveMessage()}}},[e.isFromSystem?e._e():a("div",{staticClass:"edit-options"},[a("el-button",{attrs:{size:"mini",loading:e.loading.save,type:"infor"},on:{click:function(t){return e.cancelEdit()}}},[e._v("\n                "+e._s(e._f("t")("common.cancel"))+"\n            ")]),a("el-button",{attrs:{size:"mini","native-type":"submit",type:"primary",loading:e.loading.save}},[e._v("\n                "+e._s(e._f("t")("common.save"))+"\n            ")])],1),a("div",{staticClass:"row no-gutters"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.input.content,expression:"input.content"}],staticClass:"form-control",domProps:{value:e.input.content},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:(t.preventDefault(),e.saveMessage())},input:function(t){t.target.composing||e.$set(e.input,"content",t.target.value)}}})])]):a("div",{staticClass:"message-panel"},[e.isFromSystem?e._e():a("div",{staticClass:"edit-options"},[a("el-button",{attrs:{size:"mini",type:"infor"},on:{click:function(t){return e.editMessage()}}},[e._v("\n                "+e._s(e._f("t")("common.edit"))+"\n            ")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return t.preventDefault(),e.deleteMessage()}}},[e._v("\n                "+e._s(e._f("t")("common.delete"))+"\n            ")])],1),e.isFromSystem?a("div",{staticClass:"message-cell system-message alert alert-info"},[a("div",{staticClass:"row no-gutters"},[e._m(0),a("div",{staticClass:"col"},[a("div",{staticClass:"system-message__content"},[e._v("\n                        "+e._s(e.message.content)+"\n                    ")])])]),a("small",{staticClass:"system-message__time"},[e._v(e._s(e._f("dt")(e.message.time,"HH:mm")))])]):a("div",{staticClass:"message-cell"},[a("div",{staticClass:"message-cell__wrapper"},[e.showProfile?a("div",{staticClass:"message-cell__profile"},[a("Profile",{attrs:{type:e.message.fromType,url:e.message.user.imageUrl,size:"medium"}}),a("label",{staticClass:"message-cell__profile__name"},[e._v(e._s(e.name))])],1):e._e(),"image"===e.message.type?a("a",{staticClass:"message-cell__content_image",attrs:{target:"_blank",href:e.message.content}},[a("img",{attrs:{src:e._f("thum")(e.message.content)},on:{load:function(t){return e.onUpdated()}}})]):"sticker"===e.message.type?a("div",{staticClass:"message-cell__content_image"},[a("img",{attrs:{src:e.message.content},on:{load:function(t){return e.onUpdated()}}})]):a("div",{staticClass:"message-cell__content",domProps:{innerHTML:e._s(e.toHtml(e.message.content))}}),a("small",{staticClass:"message-cell__time"},[e._v(e._s(e._f("dt")(e.message.time,"HH:mm")))])])])])])},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-auto"},[a("i",{staticClass:"material-icons system-message__icon"},[e._v("announcement")])])}],i=(a("8e6e"),a("ac6a"),a("456d"),a("28a5"),a("7f7f"),a("bd86")),r=(a("a481"),a("d225")),l=a("b0b4"),c=a("308d"),u=a("6bb5"),p=a("4e2b"),d=a("9ab4"),m=a("60a3"),f=a("66aa"),b=a("1942"),h=a("7c04"),v=a("88c3");function y(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(a,!0).forEach(function(t){Object(i["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}(function(e){e["Left"]="left",e["Right"]="right"})(s||(s={}));var j=Object(v["b"])("message"),k=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.editMode=!1,e.input={content:""},e.loading={save:!1},e}return Object(p["a"])(t,e),Object(l["a"])(t,[{key:"onUpdated",value:function(){this.$emit("img-load")}},{key:"toHtml",value:function(e){return e.replace(/(https?\:\/\/[\w\.\p\-\/\?=&:#%]+)/g,'<a target="_blank" href="$1">$1</a>')}},{key:"editMessage",value:function(){this.editMode=!0,this.input.content=this.message.content}},{key:"cancelEdit",value:function(){this.editMode=!1}},{key:"saveMessage",value:function(){var e=this,t=this.message.id,a=this.message.talkId,s=g({},this.input);this.loading.save||(this.loading.save=!0,h["a"].post("/talks/".concat(a,"/messages/").concat(t,"/update"),{data:s}).then(function(){e.message.content=s.content,e.editMode=!1}).finally(function(){e.loading.save=!1}))}},{key:"deleteMessage",value:function(){var e=this;this.$confirm(j("confirm-delete-message"),{type:"warning"}).then(function(){var t=e.message.id,a=e.message.talkId;h["a"].post("/talks/".concat(a,"/messages/").concat(t,"/delete")).then(function(){e.$emit("delete-message")}).finally(function(){e.loading.save=!1})}).catch(function(){})}},{key:"removeMessage",value:function(){this.$emit("remove-message")}},{key:"className",get:function(){var e=[],t=this.message,a=t.fromType;t.user;return e.push(a),e.push("position-".concat(this.position)),this.canEdit&&e.push("can-edit"),e}},{key:"isFromSystem",get:function(){return"system"===this.message.fromType}},{key:"isFromUser",get:function(){return"service"===this.message.fromType}},{key:"name",get:function(){var e=this.message.fromType,t=this.message.user;return"system"===e?"":"service"===e?t.name:this.customerName}}]),t}(m["d"]);d["a"]([Object(m["c"])(Boolean)],k.prototype,"canEdit",void 0),d["a"]([Object(m["c"])()],k.prototype,"message",void 0),d["a"]([Object(m["c"])(String)],k.prototype,"customerName",void 0),d["a"]([Object(m["c"])({type:Boolean,default:!0})],k.prototype,"showProfile",void 0),d["a"]([Object(m["c"])({type:String,default:"left",validator:function(e){return Object(b["b"])(s,e)}})],k.prototype,"position",void 0),k=d["a"]([Object(m["a"])({filters:{pt:j,thum:function(e){var t=e.split("."),a=t.pop();return"".concat(t.join("."),".min.").concat(a)}},components:{Profile:f["a"]}})],k);var _=k,w=_,O=(a("ce24"),a("2877"));a.d(t,"a",function(){return s});var C=Object(O["a"])(w,o,n,!1,null,"a22e5498",null);t["b"]=C.exports},"88c3":function(e,t,a){"use strict";a.d(t,"b",function(){return r});a("6b54"),a("4917"),a("ac6a");var s=a("2b0e"),o=a("a925");function n(){var e=a("49f8"),t={};return e.keys().forEach(function(a){var s=a.match(/([A-Za-z0-9-_]+)\./i);if(s&&s.length>1){var o=s[1];t[o]=e(a)}}),t}s["default"].use(o["a"]);var i=new o["a"]({locale:"zh-tw",fallbackLocale:"en",messages:n(),silentTranslationWarn:!1}),r=function(e){return function(t,a){return i.t("".concat(e,".").concat(t),a).toString()}};t["a"]=i},"8c39":function(e,t,a){e.exports=a.p+"media/Notification-02.48cec457.wav"},9007:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("audio",{ref:"audio",attrs:{loop:e.loop,src:e.src},on:{loadeddata:e.onLoaded}})])},o=[],n=a("d225"),i=a("b0b4"),r=a("308d"),l=a("6bb5"),c=a("4e2b"),u=a("9ab4"),p=a("60a3"),d=a("313c"),m=function(e){function t(){var e;return Object(n["a"])(this,t),e=Object(r["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.loaded=!1,e.paused=!0,e.playQueue=!1,e}return Object(c["a"])(t,e),Object(i["a"])(t,[{key:"mounted",value:function(){var e=this,t=this.$refs.audio;this.addListener(t,"pause",function(t){return e.paused=!0}),this.addListener(t,"playing",function(t){return e.paused=!1})}},{key:"play",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.loaded?(e&&(this.$refs.audio.currentTime=0),this.$refs.audio.paused&&this.$refs.audio.play().catch(function(e){console.error(e)})):this.playQueue=!0}},{key:"pause",value:function(){this.loaded?this.$refs.audio.pause():this.playQueue=!1}},{key:"stop",value:function(){this.$refs.audio.pause(),this.$refs.audio.currentTime=0}},{key:"onLoaded",value:function(){this.loaded=!0,this.playQueue&&this.play(),this.$emit("load")}},{key:"isPaused",get:function(){return this.paused}}]),t}(Object(p["b"])(d["a"]));u["a"]([Object(p["c"])(String)],m.prototype,"src",void 0),u["a"]([Object(p["c"])({type:Boolean,default:!0})],m.prototype,"loop",void 0),m=u["a"]([p["a"]],m);var f=m,b=f,h=a("2877"),v=Object(h["a"])(b,s,o,!1,null,null,null);t["a"]=v.exports},9033:function(e,t,a){},"918f":function(e,t,a){},9358:function(e,t,a){"use strict";var s=a("918f"),o=a.n(s);o.a},9376:function(e,t,a){},9745:function(e,t,a){},"9a21":function(e,t,a){},"9df3":function(e,t,a){"use strict";var s=a("f6a2"),o=a.n(s);o.a},a7ac:function(e,t,a){},a8d7:function(e,t,a){"use strict";var s=a("5e27"),o=a.n(s);o.a},ab33:function(e,t,a){e.exports=a.p+"img/customer-service-svgrepo-com.5bbcba88.svg"},ab77:function(e,t,a){},afab:function(e,t,a){e.exports=a.p+"media/Processing-01.c8be6ad6.wav"},b0af:function(e,t,a){"use strict";var s=a("36ad"),o=a.n(s);o.a},b13c:function(e,t,a){"use strict";var s=a("6d0e"),o=a.n(s);o.a},b2ee:function(e,t,a){},b4e4:function(e,t,a){},b64c:function(e,t,a){},bb3f:function(e,t,a){"use strict";var s=a("1097"),o=a.n(s);o.a},c029:function(e,t,a){e.exports=a.p+"media/Notification-01.7334878a.wav"},c02f:function(e,t,a){"use strict";var s=a("670d"),o=a.n(s);o.a},c038:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Talk-Component"},[e.talk?a("div",{staticClass:"wrapper d-flex flex-column"},[a("div",{staticClass:"wrapper-title row no-gutters"},[a("div",{staticClass:"col"},[e._v("#"+e._s(e.talk.id))]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.history,expression:"!history"}],staticClass:"col-auto"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"btn-group",attrs:{role:"group"}},[a("button",{staticClass:"btn btn-outline-secondary btn-sm dropdown-toggle",attrs:{id:"talk-title-buttons",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:0===e.onlineUsers.length}},[e._v("\n                        "+e._s(e._f("t")("common.transfer"))+"\n                    ")]),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"talk-title-buttons"}},e._l(e.onlineUsers,function(t){return a("a",{key:t.id,staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){return e.transferTo(t)}}},[e._v(e._s(t.username))])}),0)]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"closed"!==e.talk.status&&!e.history,expression:"talk.status !== 'closed' && !history"}],staticClass:"close-button",attrs:{type:"warning",size:"mini",plain:""},on:{click:e.closeTalk}},[e._v("\n                    close\n                ")])],1)]),a("DropFileUpload",{staticClass:"wrapper-content flex-fill",attrs:{disabled:e.history,exts:e.allowExts},on:{"drop-files":e.onDropFiles}},[a("InfiniteScroll",{ref:"infinite",staticClass:"message-list",attrs:{"before-load":e.onBeforeLoad,"after-load":e.onAfterLoad,"disabled-before":0==e.remaining.before,"disabled-after":0==e.remaining.after}},e._l(e.talks,function(t){return a("div",{key:t.id},[e.history||t.talk.id!==e.talk.id?a("HorizontalRule",[e._v("\n                        #"+e._s(t.talk.id)+" Connected\n                        "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.talk.createdAt,expression:"talkGroup.talk.createdAt"}],staticClass:"date-time-label"},[e._v("\n                            at "+e._s(e._f("dt")(t.talk.createdAt,"YYYY-MM-DD HH:mm:ss"))+"\n                        ")])]):e._e(),e.history||t.talk.id!=e.talk.id?e._e():a("HorizontalRule",[e._v("\n                        本次對話\n                        "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.talk.createdAt,expression:"talkGroup.talk.createdAt"}],staticClass:"date-time-label"},[e._v("\n                            at "+e._s(e._f("dt")(t.talk.createdAt,"YYYY-MM-DD HH:mm:ss"))+"\n                        ")])]),e._l(t.messages,function(t){return a("TalkMessage",{key:t.id+"-"+t.sid,attrs:{"customer-name":"#"+e.talk.customerId,"show-profile":t.showProfile,position:t.position,message:t,"can-edit":e.canEditMessage},on:{"img-load":function(t){return e.onImageLoaded()},"delete-message":function(a){return e.onMessageDeleted(t)},"remove-message":function(a){return e.onMessageRemove(t)}}})}),e.history||t.talk.id!==e.talk.id?a("div",{staticClass:"talk-group-footer"},[e._v("\n                        "+e._s(e._f("t")("common.talk-status."+t.talk.status))+"\n                        "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.talk.closedAt,expression:"talkGroup.talk.closedAt"}],staticClass:"date-time-label"},[e._v(" at "+e._s(e._f("dt")(t.talk.closedAt,"YYYY-MM-DD HH:mm:ss")))])]):e._e()],2)}),0)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.history,expression:"!history"}],staticClass:"wrapper-footer"},[a("div",{staticClass:"options"},[a("EmojiButton",{ref:"emoji",attrs:{disabled:!e.canSend}}),a("button",{staticClass:"btn btn-sm options-item sticker-btn"},[a("i",{staticClass:"material-icons"},[e._v("filter_b_and_w")]),a("div",{staticClass:"sticker-panel"},e._l(e.stickers,function(t){return a("div",{key:t.id,staticClass:"sticker-item",on:{click:function(a){return e.sendSticker(t)}}},[a("img",{attrs:{src:t.imageUrl}})])}),0)]),a("button",{staticClass:"btn btn-sm options-item",attrs:{disabled:!e.canSend},on:{click:function(t){return e.$refs.inputFile.click()}}},[a("i",{staticClass:" material-icons"},[e._v("image")])]),a("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"inputFile",attrs:{type:"file",disabled:!e.canSend,accept:".jpg,.jpeg,.png"},on:{change:e.onUploadFile}}),a("button",{staticClass:"btn btn-sm options-item articles-btn",attrs:{disabled:!e.canSend}},[a("i",{staticClass:" material-icons"},[e._v("message")])]),a("div",{staticClass:"articles-panel"},[a("Datalist",{attrs:{options:e.articleOptions},on:{select:e.onDataListSelected}})],1)],1),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.input.message,expression:"input.message"}],ref:"textarea",staticClass:"form-control",attrs:{disabled:!e.canSend},domProps:{value:e.input.message},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:(t.preventDefault(),e.sendMessage())},input:function(t){t.target.composing||e.$set(e.input,"message",t.target.value)}}})])],1):e._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"unready-alert-panel"},[e._m(0)]),a("SoundEffect",{ref:"effectNotification01",attrs:{src:e.effects.notification01,loop:!1}})],1)},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"alert alert-light"},[e._v("\n            未讀訊息\n            "),a("i",{staticClass:"material-icons"},[e._v("arrow_downward")])])}],n=(a("8e6e"),a("456d"),a("28a5"),a("c5f6"),a("a481"),a("6b54"),a("768b")),i=(a("55dd"),a("7514"),a("ac6a"),a("7f7f"),a("bd86")),r=(a("96cf"),a("3b8d")),l=a("d225"),c=a("b0b4"),u=a("308d"),p=a("6bb5"),d=a("4e2b"),m=a("9ab4"),f=a("60a3"),b=a("66aa"),h=a("4331"),v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",{staticClass:"Datalist-Component"},[e._l(e.options,function(t){return a("li",{key:t.value,staticClass:"Datalist-item",class:{active:t.value===e.activeValue},on:{click:function(a){return e.onSelected(t)},mouseenter:function(a){return e.active(t.value)}}},[a("div",{staticClass:"Datalist-item__label"},[e._v(e._s(t.label))]),a("small",{staticClass:"Datalist-item__sublabel"},[e._v(e._s(t.sublabel))])])}),a("li",{directives:[{name:"show",rawName:"v-show",value:0===e.options.length,expression:"options.length === 0"}],staticClass:"empty-item"},[a("div",{staticClass:"Datalist-item__label"}),a("small",{staticClass:"Datalist-item__sublabel"},[e._v("None")])])],2)},y=[],g=(a("20d6"),function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(u["a"])(this,Object(p["a"])(t).apply(this,arguments)),e.activeValue="",e}return Object(d["a"])(t,e),Object(c["a"])(t,[{key:"watchOptions",value:function(){var e=this;this.options.some(function(t){return t.value===e.activeValue})||this.first()}},{key:"active",value:function(e){this.activeValue=e}},{key:"first",value:function(){this.activeValue=this.options.length?this.options[0].value:""}},{key:"next",value:function(){var e=this,t=this.options.length,a=this.options.findIndex(function(t){return t.value===e.activeValue}),s=(a+1+t)%t;this.options[s]&&(this.activeValue=this.options[s].value)}},{key:"previous",value:function(){var e=this,t=this.options.length,a=this.options.findIndex(function(t){return t.value===e.activeValue}),s=(a-1+t)%t;this.options[s]&&(this.activeValue=this.options[s].value)}},{key:"onSelected",value:function(e){this.$emit("select",e)}},{key:"activeOption",get:function(){var e=this;return this.options.find(function(t){return t.value===e.activeValue})||null}}]),t}(f["d"]));m["a"]([Object(f["c"])(Array)],g.prototype,"options",void 0),m["a"]([Object(f["e"])("options")],g.prototype,"watchOptions",null),g=m["a"]([f["a"]],g);var j=g,k=j,_=(a("a8d7"),a("2877")),w=Object(_["a"])(k,v,y,!1,null,"6b674d74",null),O=w.exports,C=a("3a0b"),S=a("7c04"),P=a("9007"),x=a("e918"),N=a("8403"),F=a("c1df"),T=a.n(F),D=a("1942"),E=a("0d6e");function A(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(a,!0).forEach(function(t){Object(i["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var I={notification01:a("c029")},$=null,L={id:0,name:"",imageUrl:"",online:!1},B=function(e){function t(){var e;return Object(l["a"])(this,t),e=Object(u["a"])(this,Object(p["a"])(t).apply(this,arguments)),e.stopRender=!1,e.talk=null,e.input={message:""},e.articleOptions=[],e.stickers=[],e.talks=[],e.remaining={before:1,after:1},e.loading={message:!1},e}return Object(d["a"])(t,e),Object(c["a"])(t,[{key:"watchStoreTalk",value:function(e){e&&this.talk&&this.mergeTalk()}},{key:"watchLastMessageId",value:function(e){var t=this;this.$refs.effectNotification01.play(),console.info("lmid",e);var a=this.loadAfterMessages(this.maxMessageId);this.$refs.infinite.isBottom()&&a.finally(function(){t.toScrollBottom()})}},{key:"watchTalkId",value:function(e){this.talks=[],this.remaining.before=1,this.remaining.after=1,this.loadTalk(e)}},{key:"watchTalk",value:function(e){var t=this;e&&(this.$nextTick(function(){t.$refs.emoji.bindInput(t.$refs.textarea)}),this.loadBeforeMessages().then(function(){t.toScrollBottom()}))}},{key:"mounted",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.loadArticles(),this.loadStickers();case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"loadTalk",value:function(e){var t=this;S["a"].get("/talks/".concat(e)).then(function(e){t.talk=e,t.mergeTalk()})}},{key:"loadStickers",value:function(){var e=this;S["a"].get("/stickers").then(function(t){e.stickers=t})}},{key:"mergeTalk",value:function(){var e=this.storeTalk;this.talk&&e&&Object.assign(this.talk,{executiveId:e.executive.id,executive:M({},e.executive),startAt:e.startAt?T()(e.startAt).format("YYYY-MM-DD HH:mm:ss"):"",closedAt:e.closedAt?T()(e.closedAt).format("YYYY-MM-DD HH:mm:ss"):""})}},{key:"loadArticles",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={autoSends:["none"],userId:this.user.id},e.next=3,S["a"].get("/articles",{data:t});case 3:a=e.sent,$=a.map(function(e){return{value:e.id,label:e.name,sublabel:e.content}}),this.articleOptions=$||[];case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"transferTo",value:function(e){S["c"].talks.transferTo(this.talkId,e.id),C["a"].commit("talks/unactive")}},{key:"insertText",value:function(e){var t=this,a=this.input.message,s=this.$refs.textarea.selectionStart,o=this.$refs.textarea.selectionEnd;s===o&&(this.input.message="".concat(a.substr(0,s)).concat(e).concat(a.substr(o))),setTimeout(function(){var a=s+e.length;t.$refs.textarea.focus(),t.$refs.textarea.setSelectionRange(a,a)},0)}},{key:"onBeforeLoad",value:function(){return this.remaining.before?this.loadBeforeMessages():Promise.resolve()}},{key:"onAfterLoad",value:function(){var e=this;return this.remaining.after?this.loadAfterMessages().then(function(){e.history||e.toScrollBottom()}):Promise.resolve()}},{key:"loadBeforeMessages",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.minMessageId;return this.loading.message?Promise.reject():(this.loading.message=!0,S["a"].get("/talks/".concat(this.talkId,"/messages-before/").concat(t)).then(function(a){e.remaining.before=a.remaining,e.talks.forEach(function(e){e.messages=e.messages.filter(function(e){return e.id>=t})}),e.transferMessages(a,"before")}).finally(function(){e.loading.message=!1}))}},{key:"loadAfterMessages",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.maxMessageId;return this.loading.message?Promise.reject():(this.loading.message=!0,S["a"].get("/talks/".concat(this.talkId,"/messages-after/").concat(t)).then(function(a){e.remaining.after=a.remaining,e.talks.forEach(function(e){e.messages=e.messages.filter(function(e){return e.id<=t})}),e.transferMessages(a,"after")}).finally(function(){e.loading.message=!1,e.messages.length<20&&e.loadBeforeMessages(e.minMessageId).finally(function(){e.toScrollBottom()})}))}},{key:"transferMessages",value:function(e,t){var a=this,s=e.rows,o=e.talks,n=this.history,i=this.user,r=s.map(function(e){var t=e.userId===i.id;return{id:e.id,sid:0,showProfile:n||!t,user:e.user||M({},L),fromType:e.fromType,talkId:e.talkId,content:e.content,type:e.type,time:T()(e.createdAt).valueOf(),position:n&&"service"===e.fromType||t?N["a"].Right:N["a"].Left,isDeleted:!1}});o.forEach(function(e){a.talks.find(function(t){return t.talk.id===e.id})||a.talks.push({talk:e,messages:[]})}),this.talks.sort(function(e,t){return e.talk.id-t.talk.id});var l={};this.talks.forEach(function(e){l[e.talk.id]=e});var c="after"===t;r.forEach(function(e){var t=l[e.talkId];t&&(c?t.messages.push(e):t.messages.unshift(e))})}},{key:"closeTalk",value:function(){var e=this;this.$confirm("確定關閉此對話？","結案操作",{type:"warning"}).then(function(){S["c"].talks.closeTalk(e.talkId)}).catch(function(){})}},{key:"sendSticker",value:function(e){var t=this;S["c"].talks.sendSticker(this.talkId,e.id).then(function(){t.loadAfterMessages().finally(function(){return t.toScrollBottom()})})}},{key:"sendMessage",value:function(){var e=this;this.input.message&&(S["c"].talks.sendMessage(this.talkId,this.input.message).then(function(){e.loadAfterMessages().finally(function(){e.toScrollBottom()})}),this.input.message="")}},{key:"onDataListSelected",value:function(e){this.insertText(e.sublabel||"")}},{key:"onDropFiles",value:function(e){var t=this,a=this.allowExts,s=e.files.filter(function(e){return Object(D["a"])(a,e.type)});if(s)Object(D["c"])(s,function(e){return new Promise(function(){var a=Object(r["a"])(regeneratorRuntime.mark(function a(s){return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:t.uploadImage(e).finally(function(){t.loadAfterMessages().finally(function(){t.toScrollBottom()})});case 1:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}())})}},{key:"onUploadFile",value:function(e){var t=this,a=e.target.files||[],s=Object(n["a"])(a,1),o=s[0],i=void 0===o?null:o;i&&this.uploadImage(i).finally(function(){t.loadAfterMessages().finally(function(){t.toScrollBottom()})})}},{key:"uploadImage",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var a,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=this.allowExts,e.next=3,Object(E["a"])(t);case 3:if(s=e.sent,Object(D["a"])(a,t.type)){e.next=6;break}throw new Error("error type > ".concat(t.type));case 6:if(s.result){e.next=8;break}throw new Error("load fail");case 8:return e.next=10,S["c"].talks.sendImage(this.talkId,s.result.toString(),t.type);case 10:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"toHtml",value:function(e){return e.replace(/(https?\:\/\/[\w\.\p\-\/\?=&:#%]+)/g,'<a target="_blank" href="$1">$1</a>')}},{key:"onMessageDeleted",value:function(e){var t=this;this.stopRender=!0;var a=this.talks.find(function(t){return t.talk.id===e.talkId});a&&(e.isDeleted=!0),this.$nextTick(function(){t.stopRender=!1})}},{key:"onMessageRemove",value:function(e){var t=this.talks.find(function(t){return t.talk.id===e.talkId});t&&(t.messages=t.messages.filter(function(t){return t.id!==e.id}))}},{key:"toScrollBottom",value:function(){this.$refs.infinite&&this.$refs.infinite.toBottom(!0)}},{key:"onImageLoaded",value:function(){var e=this.$refs.infinite;e&&e.isBottom()&&e.toBottom(!0)}},{key:"effects",get:function(){return I}},{key:"user",get:function(){return C["a"].state.User}},{key:"canSend",get:function(){var e=this.talk;this.user;return e&&e.executive}},{key:"messages",get:function(){return this.talks.reduce(function(e,t){return e.concat(t.messages)},[])}},{key:"maxMessageId",get:function(){return this.messages.filter(function(e){return e.id>0}).reduce(function(e,t){return Math.max(e,t.id)},0)}},{key:"minMessageId",get:function(){var e=this.messages,t=e.length?e[0].id:0;return e.filter(function(e){return e.id>0}).reduce(function(e,t){return Math.min(e,t.id)},t)}},{key:"lastMessageId",get:function(){this.user.id;var e=this.talkId,t=C["a"].getters.talks.find(function(t){return t.id===e}),a=t?t.lastMessage:null;return a?a.id:0}},{key:"onlineUsers",get:function(){var e=this.user;return C["a"].state.App.users.filter(function(t){return t.online&&t.id!==e.id})}},{key:"storeTalk",get:function(){var e=this;return C["a"].getters.talks.find(function(t){return t.id===e.talkId})}},{key:"canEditMessage",get:function(){var e=this.history,t="supervisor"===this.user.role;return t&&e}},{key:"allowExts",get:function(){return["image/png","image/jpeg"]}}]),t}(f["d"]);m["a"]([Object(f["c"])(Number)],B.prototype,"talkId",void 0),m["a"]([Object(f["c"])(Boolean)],B.prototype,"history",void 0),m["a"]([Object(f["e"])("storeTalk",{deep:!0})],B.prototype,"watchStoreTalk",null),m["a"]([Object(f["e"])("lastMessageId")],B.prototype,"watchLastMessageId",null),m["a"]([Object(f["e"])("talkId",{immediate:!0})],B.prototype,"watchTalkId",null),m["a"]([Object(f["e"])("talk")],B.prototype,"watchTalk",null),B=m["a"]([Object(f["a"])({filters:{thum:function(e){var t=e.split("."),a=t.pop();return"".concat(t.join("."),".min.").concat(a)}},components:{Datalist:O,SoundEffect:P["a"],DropFileUpload:h["a"],Profile:b["a"],EmojiButton:x["a"],TalkMessage:N["b"]}})],B);var z=B,H=z,R=(a("e414"),a("faa1"),Object(_["a"])(H,s,o,!1,null,"7a1729fe",null));t["a"]=R.exports},c0cb:function(e,t,a){"use strict";var s=a("2818"),o=a.n(s);o.a},c1c3:function(e,t,a){},c2ae:function(e,t,a){},c924:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("PageWrapper",{attrs:{title:"設定",padding:"0.5rem"}},[a("div",{staticClass:"SettingMain-Component"},[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"常用文章",name:"article"}},[a("div",{staticClass:"form-group row select-users"},[a("label",{staticClass:"col-auto col-form-label"},[e._v(e._s(e._f("t")("users.user")))]),a("div",{staticClass:"col-auto"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.input.uid,expression:"input.uid"}],staticClass:"user-options form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.input,"uid",t.target.multiple?a:a[0])}}},e._l(e.optionUsers,function(t){return a("option",{key:t.value,domProps:{value:t.value}},[e._v("\n                                "+e._s(t.label)+"\n                            ")])}),0)])]),a("ArticlePage",{attrs:{uid:e.input.uid}})],1),a("el-tab-pane",{attrs:{label:"個人貼圖",name:"sticker"}},[a("div",{staticClass:"form-group row select-users"},[a("label",{staticClass:"col-auto col-form-label"},[e._v(e._s(e._f("t")("users.user")))]),a("div",{staticClass:"col-auto"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.input.uid,expression:"input.uid"}],staticClass:"user-options form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.input,"uid",t.target.multiple?a:a[0])}}},e._l(e.optionUsers,function(t){return a("option",{key:t.value,domProps:{value:t.value}},[e._v("\n                                "+e._s(t.label)+"\n                            ")])}),0)])]),a("StickerPage",{attrs:{uid:e.input.uid}})],1),a("el-tab-pane",{attrs:{label:"個人資料",name:"personal"}},[a("PersonalPage")],1),a("el-tab-pane",{attrs:{label:"系統設定",name:"systemConfig"}},[a("SystemConfigPage")],1)],1)],1)])},o=[],n=a("75fc"),i=(a("6b54"),a("d225")),r=a("b0b4"),l=a("308d"),c=a("6bb5"),u=a("4e2b"),p=a("9ab4"),d=a("60a3"),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ArticlePage-Component"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.reload,expression:"loading.reload"}],staticClass:"article-group"},[a("div",{staticClass:"row no-gutters"},[a("div",{staticClass:"col"},[a("h5",{staticClass:"group-title"},[e._v("\n                            "+e._s(e._f("pt")("personal-setting"))+"\n                        ")])])]),a("HorizontalRule",{attrs:{align:"left",bold:"",color:"#007bff","border-color":"#007bff",label:e._f("pt")("personal-list")}}),a("draggable",{staticClass:"list-group personal-list",class:{disabled:!e.canEdit},attrs:{group:"article",draggable:".article-item",disabled:!e.canEdit},on:{change:function(t){return e.draggableArticle("none",t)}},model:{value:e.noneArticles,callback:function(t){e.noneArticles=t},expression:"noneArticles"}},[e._l(e.noneArticles,function(t){return a("div",{key:t.id,staticClass:"list-group-item article-item"},[a("div",{staticClass:"d-flex w-100 justify-content-between"},[a("h5",{staticClass:"article-name"},[e._v(e._s(t.name))]),a("small",[e._v("/"+e._s(t.key))])]),a("p",[e._v(e._s(t.content))]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.userId==e.user.id,expression:"item.userId == user.id"}],staticClass:"row no-gutters"},[a("div",{staticClass:"col"}),a("div",{staticClass:"col-auto"},[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return e.deleteArticle(t)}}},[e._v("\n                                    Delete\n                                ")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.editArticle(t.id)}}},[e._v("\n                                    Edit\n                                ")])],1)])])}),a("div",{staticClass:"list-group-item"},[a("button",{staticClass:"btn btn-outline-primary btn-block",attrs:{disabled:!e.canEdit},on:{click:function(t){return e.editArticle(0)}}},[a("i",{staticClass:"material-icons"},[e._v("add")]),e._v("\n                            "+e._s(e._f("t")("common.add"))+"\n                        ")])])],2),a("HorizontalRule",{attrs:{align:"left",bold:"",color:"#007bff","border-color":"#007bff",label:e._f("pt")("auto-send-start")}}),e._l(e.startArticles,function(t){return a("div",{key:t.id,staticClass:"list-group-item article-item"},[a("p",[e._v(e._s(t.content))]),a("div",{staticClass:"d-flex  justify-content-end"},[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return e.deleteArticle(t)}}},[e._v("\n                            Delete\n                        ")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.editArticle(t.id)}}},[e._v("\n                            edit\n                        ")])],1)])}),a("div",{staticClass:"list-group-item"},[a("button",{staticClass:"btn btn-outline-primary btn-block",attrs:{disabled:!e.canEdit},on:{click:function(t){return e.editArticle(0,"start")}}},[a("i",{staticClass:"material-icons"},[e._v("add")]),e._v("\n                        "+e._s(e._f("t")("common.add"))+"\n                    ")])])],2)]),a("div",{staticClass:"col-6"},[a("div",{staticClass:"article-group"},[a("div",{staticClass:"row no-gutters"},[a("div",{staticClass:"col"},[a("h5",{staticClass:"group-title"},[e._v("\n                            "+e._s(e._f("pt")("common-setting"))+"\n                        ")])])]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.reload,expression:"loading.reload"}],staticClass:"article-group"},[a("HorizontalRule",{attrs:{align:"left",bold:"",color:"#007bff","border-color":"#007bff",label:e._f("pt")("auto-send-connected")}}),e._l(e.connectedArticles,function(t){return a("div",{key:t.id,staticClass:"list-group-item article-item"},[a("p",[e._v(e._s(t.content))]),a("div",{staticClass:"d-flex justify-content-end"},[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return e.deleteArticle(t)}}},[e._v("\n                                Delete\n                            ")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.editArticle(t.id)}}},[e._v("\n                                edit\n                            ")])],1)])}),a("div",{staticClass:"list-group-item"},[a("button",{staticClass:"btn btn-outline-primary btn-block",on:{click:function(t){return e.editArticle(0,"connected")}}},[a("i",{staticClass:"material-icons"},[e._v("add")]),e._v("\n                            "+e._s(e._f("t")("common.add"))+"\n                        ")])])],2),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.reload,expression:"loading.reload"}],staticClass:"article-group"},[a("HorizontalRule",{attrs:{align:"left",bold:"",color:"#007bff","border-color":"#007bff",label:e._f("pt")("auto-send-pause")}}),e._l(e.pauseArticles,function(t){return a("div",{key:t.id,staticClass:"list-group-item article-item"},[a("p",[e._v(e._s(t.content))]),a("div",{staticClass:"d-flex justify-content-end"},[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return e.deleteArticle(t)}}},[e._v("\n                                Delete\n                            ")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.editArticle(t.id)}}},[e._v("\n                                edit\n                            ")])],1)])}),a("div",{staticClass:"list-group-item"},[a("button",{staticClass:"btn btn-outline-primary btn-block",on:{click:function(t){return e.editArticle(0,"pause")}}},[a("i",{staticClass:"material-icons"},[e._v("add")]),e._v("\n                            "+e._s(e._f("t")("common.add"))+"\n                        ")])])],2)])])]),a("ArticleEdit",{ref:"edit",on:{saved:function(t){return e.reload()}}})],1)},f=[],b=(a("8e6e"),a("ac6a"),a("456d"),a("c5f6"),a("7f7f"),a("bd86")),h=a("310e"),v=a.n(h),y=a("7c04"),g=a("88c3"),j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"ArticleEdit-Component",attrs:{visible:e.visible,"close-on-click-modal":!1,title:e.title},on:{"update:visible":function(t){e.visible=t}}},[a("form",{on:{submit:function(t){return t.preventDefault(),e.save(t)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"edit-key"}},[e._v(e._s(e._f("pt")("article-name")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.input.name,expression:"input.name"}],staticClass:"form-control",attrs:{type:"text",name:"key"},domProps:{value:e.input.name},on:{input:function(t){t.target.composing||e.$set(e.input,"name",t.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"form-group"},[a("label",{attrs:{for:"edit-key"}},[e._v(e._s(e._f("pt")("article-key")))]),a("div",{staticClass:"input-group mb-3"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon1"}},[e._v("/")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.input.key,expression:"input.key"}],staticClass:"form-control",attrs:{type:"text",name:"key"},domProps:{value:e.input.key},on:{input:function(t){t.target.composing||e.$set(e.input,"key",t.target.value)}}})])]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"edit-auto-send"}},[e._v(e._s(e._f("pt")("auto-send")))]),a("select",{staticClass:"form-control",attrs:{id:"edit-auto-send",disabled:"",name:"role"},domProps:{value:e.input.autoSend},on:{click:function(e){e.preventDefault()},change:function(e){e.preventDefault()}}},[a("option",{attrs:{disabled:""},domProps:{value:null}},[e._v(e._s(e._f("t")("common.please-select")))]),e._l(e.autoSendOptions,function(t){return a("option",{key:t.value,domProps:{value:t.value}},[e._v(e._s(t.label))])})],2)]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"edit-content"}},[e._v(e._s(e._f("pt")("article-content")))]),a("div",{staticClass:"options-panel"},[a("EmojiButton",{ref:"emoji"})],1),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.input.content,expression:"input.content"}],ref:"content",staticClass:"form-control",attrs:{name:"content"},domProps:{value:e.input.content},on:{input:function(t){t.target.composing||e.$set(e.input,"content",t.target.value)}}})]),a("div",{staticClass:"row"},[a("div",{staticClass:"col"}),a("div",{staticClass:"col-auto"},[a("el-button",{attrs:{outlind:"",disabled:e.loading.save},on:{click:e.cancel}},[a("i",{staticClass:"material-icons"},[e._v("arrow_back")]),e._v("\n                    "+e._s(e._f("t")("common.cancel"))+"\n                ")]),a("el-button",{attrs:{"native-type":"submit",loading:e.loading.save,type:"primary"}},[a("i",{staticClass:"material-icons"},[e._v("save_alt")]),e._v("\n                    "+e._s(e._f("t")("common.save"))+"\n                ")])],1)])])])},k=[],_=a("a8db"),w=(a("7514"),a("5c69")),O=a("e918");function C(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach(function(t){Object(b["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var P={id:0,key:"",name:"",content:"",autoSend:"none"},x=Object(g["b"])("article"),N=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(l["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.visible=!1,e.loading={save:!1,find:!1},e.input=S({},P),e.isBindInput=!1,e}return Object(u["a"])(t,e),Object(r["a"])(t,[{key:"open",value:function(e,t){var a=this;this.visible=!0,this.bindInput(),this.loading.find||(0!==e?(this.loading.find=!0,y["a"].get("/articles/".concat(e)).then(function(t){a.input.id=e,a.input.key=t.key,a.input.name=t.name,a.input.content=t.content,a.input.autoSend=t.autoSend}).catch(function(e){y["c"].notice.error(e.message)}).finally(function(){a.loading.find=!1})):this.input=S({},P,{autoSend:t||P.autoSend}))}},{key:"bindInput",value:function(){var e=this;this.isBindInput||this.$nextTick(function(){e.$refs.emoji.bindInput(e.$refs.content)}),this.isBindInput=!0}},{key:"cancel",value:function(){this.visible=!1}},{key:"save",value:function(){var e=this,t=S({},this.input),a=t.id,s=Object(_["a"])(t,["id"]);this.loading.save||(this.loading.save=!0,y["a"].post("/articles/".concat(a,"/save"),{data:s}).then(function(){e.cancel(),e.$emit("saved")}).catch(function(t){e.setInvalids(t)}).finally(function(){e.loading.save=!1}))}},{key:"title",get:function(){var e=x("article");return this.input.id?this.$t("common.edit-title",{name:e}):this.$t("common.add-title",{name:e})}},{key:"autoSendOptions",get:function(){return[{value:"none",label:x("auto-send-none")},{value:"connected",label:x("auto-send-connected")},{value:"start",label:x("auto-send-start")},{value:"pause",label:x("auto-send-pause")}]}}]),t}(Object(d["b"])(w["a"]));N=p["a"]([Object(d["a"])({filters:{pt:x},components:{EmojiButton:O["a"]}})],N);var F=N,T=F,D=(a("4b1c"),a("2877")),E=Object(D["a"])(T,j,k,!1,null,"b8121524",null),A=E.exports,M=a("3a0b");function I(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function $(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(a,!0).forEach(function(t){Object(b["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var L=Object(g["b"])("article"),B=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(l["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.loading={reload:!1},e.articles=[],e.noneArticles=[],e.connectedArticles=[],e.startArticles=[],e.pauseArticles=[],e}return Object(u["a"])(t,e),Object(r["a"])(t,[{key:"watchArticles",value:function(e){this.noneArticles=e.filter(function(e){return"none"===e.autoSend}),this.connectedArticles=e.filter(function(e){return"connected"===e.autoSend}),this.startArticles=e.filter(function(e){return"start"===e.autoSend}),this.pauseArticles=e.filter(function(e){return"pause"===e.autoSend})}},{key:"watchUid",value:function(){this.reload()}},{key:"reload",value:function(){var e=this;if(!this.loading.reload){this.loading.reload=!0;var t={userId:this.uid};y["a"].get("/articles",{data:t}).then(function(t){e.articles=t.map(function(e){return $({},e,{loading:!1})})}).finally(function(){e.loading.reload=!1})}}},{key:"editArticle",value:function(e,t){this.$refs.edit.open(e,t)}},{key:"deleteArticle",value:function(e){var t=this;this.$confirm("確定刪除文章「".concat(e.name,"」？"),{type:"warning"}).then(function(){y["a"].post("/articles/".concat(e.id,"/delete")).then(function(){return t.reload()})}).catch(function(){})}},{key:"draggableArticle",value:function(e,t){var a=this;if("added"in t||"moved"in t){var s=t.added||t.moved,o=s.element,n=s.newIndex,i={none:this.noneArticles,connected:this.connectedArticles,start:this.startArticles,pause:this.pauseArticles}[e],r=n>0&&i[n-1]||null,l={odr:r?r.odr+1:0,autoSend:e},c=10*Math.ceil(l.odr/10);return y["a"].post("/articles/".concat(o.id,"/move"),{data:l}).then(function(e){l.odr;e.odr===c&&e.autoSend===l.autoSend||a.reload()}).catch(function(){a.reload()})}}},{key:"user",get:function(){return M["a"].state.User}},{key:"canEdit",get:function(){return this.uid===this.user.id}}]),t}(d["d"]);p["a"]([Object(d["c"])(Number)],B.prototype,"uid",void 0),p["a"]([Object(d["e"])("articles")],B.prototype,"watchArticles",null),p["a"]([Object(d["e"])("uid",{immediate:!0})],B.prototype,"watchUid",null),B=p["a"]([Object(d["a"])({filters:{pt:L},components:{Draggable:v.a,ArticleEdit:A}})],B);var z=B,H=z,R=(a("c0cb"),Object(D["a"])(H,m,f,!1,null,"32f88545",null)),U=R.exports,W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("PanelWrapper",{attrs:{title:"個人資料"}},[a("div",{staticClass:"personal-data row"},[a("div",{staticClass:"col-4"},[a("div",{staticClass:"form-group"},[a("button",{staticClass:"btn btn-light profile-button",on:{click:function(t){return e.$refs.profile.click()}}},[a("Profile",{staticClass:"profile-icon",attrs:{url:e.imageUrl,type:"service",size:"large"}})],1),a("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"profile",attrs:{type:"file"},on:{change:e.loadProfile}})]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.name,expression:"loading.name"}],staticClass:"form-group"},[a("label",[e._v("Name")]),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.input.name,expression:"input.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.input.name},on:{input:function(t){t.target.composing||e.$set(e.input,"name",t.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-primary material-icons",class:e.inputName.className,attrs:{disabled:!e.inputName.enabled},on:{click:e.updateName}},[e._v("\n                            save\n                        ")])])])]),a("div",{staticClass:"form-group"},[a("label",[e._v("Password")]),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.input.password,expression:"input.password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:e.input.password},on:{input:function(t){t.target.composing||e.$set(e.input,"password",t.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-secondary material-icons",attrs:{disabled:!e.inputPassword.enabled},on:{click:e.onClearPassword}},[e._v("\n                            cancel\n                        ")])])])]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.password,expression:"loading.password"},{name:"show",rawName:"v-show",value:e.input.password,expression:"input.password"}],staticClass:"form-group"},[a("label",[e._v("Confirm Password")]),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.input.confirm,expression:"input.confirm"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:e.input.confirm},on:{input:function(t){t.target.composing||e.$set(e.input,"confirm",t.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-primary material-icons",class:e.inputConfirm.className,attrs:{disabled:!e.inputConfirm.enabled},on:{click:e.updatePassword}},[e._v("\n                            save\n                        ")])])])])]),a("div",{staticClass:"col-auto"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.cutBox.hasImage,expression:"cutBox.hasImage"}],staticClass:"cut-profile-panel"},[a("div",{staticClass:"profile-cut-panel"},[a("div",{staticClass:"background-panel"},[a("img",{ref:"img",style:e.imageCutStyle}),a("div",{directives:[{name:"drag",rawName:"v-drag",value:{callback:e.onDragMove},expression:"{callback: onDragMove}"}],ref:"cutBox",staticClass:"cut-box",style:e.cutBoxStyle,attrs:{"drag-type":"move"},on:{mousedown:function(t){return e.onCutBoxMousedown(t,"move")}}},[a("div",{staticClass:"left-top-box",attrs:{"drag-type":"left-top"},on:{mousedown:function(t){return e.onCutBoxMousedown(t)}}}),a("div",{staticClass:"right-top-box",attrs:{"drag-type":"right-top"},on:{mousedown:function(t){return e.onCutBoxMousedown(t)}}}),a("div",{staticClass:"right-bottom-box",attrs:{"drag-type":"right-bottom"},on:{mousedown:function(t){return e.onCutBoxMousedown(t)}}}),a("div",{staticClass:"left-bottom-box",attrs:{"drag-type":"left-bottom"},on:{mousedown:function(t){return e.onCutBoxMousedown(t)}}})])]),a("canvas",{ref:"canvas",attrs:{width:"400px",height:"400px"}}),a("canvas",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"cache"})]),a("div",{staticClass:"row no-gutters"},[a("div",{staticClass:"col"}),a("div",{staticClass:"col-auto"},[a("el-button",{on:{click:e.cancelProfile}},[e._v("\n                            "+e._s(e._f("t")("common.cancel"))+"\n                        ")]),a("el-button",{attrs:{type:"primary",disabled:!e.inputProfile.enabled},on:{click:e.updateProfile}},[e._v("\n                            "+e._s(e._f("t")("common.save"))+"\n                        ")])],1)])])]),a("div",{staticClass:"co"})])])},q=[],Y=(a("96cf"),a("3b8d")),G=a("768b"),Q=a("66aa");function V(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function K(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(a,!0).forEach(function(t){Object(b["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var X=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(l["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.input={name:"",password:"",confirm:""},e.loading={name:!1,password:!1,profile:!1},e.cutBox={hasImage:!1,scale:1,left:50,top:50,size:80,maxSize:160,minSize:40,imgWidth:400,imgHeight:400,dragType:"move",dragX:0,dragY:0,dragSize:0},e}return Object(u["a"])(t,e),Object(r["a"])(t,[{key:"mounted",value:function(){this.input.name=this.user.name}},{key:"onClearPassword",value:function(){this.input.password="",this.input.confirm=""}},{key:"updateName",value:function(){var e=this,t={name:this.input.name};this.loading.name||(this.loading.name=!0,y["a"].post("/personal/update/name",{data:t}).then(function(){y["c"].reloadPersonalData()}).finally(function(){e.loading.name=!1}))}},{key:"updatePassword",value:function(){var e=this,t={password:this.input.password};this.loading.password||(this.loading.password=!0,y["a"].post("/personal/update/password",{data:t}).then(function(){y["c"].reloadPersonalData()}).finally(function(){e.loading.password=!1,e.input.password="",e.input.confirm=""}))}},{key:"loadProfile",value:function(e){var t=this,a=Object(G["a"])(e.target.files,1),s=a[0],o=void 0===s?null:s;if(o)if("image/jpeg"===o.type||"image/png"===o.type){var n=this.$refs.canvas,i=n.getContext("2d");if(i){var r=new FileReader,l=this.$refs.img;r.addEventListener("loadend",Object(Y["a"])(regeneratorRuntime.mark(function e(){var a,s,o,n,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!r.result){e.next=28;break}return a=r.result.toString(),e.next=4,new Promise(function(e){var t=new Image;t.addEventListener("load",function(){return e({width:t.width,height:t.height})}),t.src=a});case 4:return s=e.sent,e.next=7,new Promise(function(e){l.addEventListener("load",function(){return e()}),l.src=a});case 7:o=400/Math.max(s.width,s.height),n=s.width*o,c=s.height*o,l.style.display="block",l.src=r.result.toString(),l.width=n,l.height=c,t.$refs.canvas.width=n,t.$refs.canvas.height=c,t.cutBox.scale=o,t.cutBox.imgWidth=n,t.cutBox.imgHeight=c,t.cutBox.hasImage=!0,t.cutBox.maxSize=.8*Math.min(n,c),t.cutBox.size=t.cutBox.maxSize/2,t.cutBox.left=n/2-t.cutBox.size/2,t.cutBox.top=Math.max(0,c/3-t.cutBox.size/2),i.drawImage(l,0,0,n,c),l.src=r.result.toString(),e.next=29;break;case 28:console.error("empty data",r.result);case 29:case"end":return e.stop()}},e)}))),r.readAsDataURL(o)}}else console.error("error type > ".concat(o.type))}},{key:"onDragMove",value:function(e){var t=this.cutBox;if("mousedown"===e.name&&(t.dragX=t.left,t.dragY=t.top,t.dragSize=t.size),"mousemove"===e.name)if("move"===t.dragType)t.left=t.dragX+e.moveX,t.top=t.dragY+e.moveY,t.left=Math.min(Math.max(0,t.left),t.imgWidth-t.size),t.top=Math.min(Math.max(0,t.top),t.imgHeight-t.size);else{var a=K({},t);Math.min(Math.max(t.dragSize-e.moveX,t.minSize),t.maxSize);switch(t.dragType){case"left-top":t.left=t.dragX+e.moveX,t.top=t.dragY+e.moveX,t.size=t.dragSize-e.moveX;break;case"left-bottom":t.left=t.dragX+e.moveX,t.size=t.dragSize-e.moveX;break;case"right-top":t.top=t.dragY-e.moveX,t.size=t.dragSize+e.moveX;break;case"right-bottom":t.size=t.dragSize+e.moveY;break}(t.size<t.minSize||t.size>t.maxSize||t.left<0||t.top<0||t.left+t.size>t.imgWidth||t.top+t.size>t.imgHeight)&&(this.cutBox=K({},a))}}},{key:"onCutBoxMousedown",value:function(e){this.cutBox.dragType=e.target.getAttribute("drag-type")}},{key:"cancelProfile",value:function(){this.cutBox.hasImage=!1,this.$refs.profile.value=""}},{key:"updateProfile",value:function(){var e=this,t={profile:this.imageUrl};this.loading.profile||(this.loading.profile=!0,y["a"].post("/personal/update/profile",{data:t}).then(function(t){y["c"].reloadPersonalData(),e.cancelProfile()}).finally(function(){e.loading.profile=!1}))}},{key:"user",get:function(){return M["a"].state.User}},{key:"imageUrl",get:function(){var e=this.cutBox,t=e.hasImage,a=e.scale,s=e.left,o=e.top,n=e.size,i=(e.imgWidth,e.imgHeight,this.$refs.cache&&this.$refs.cache.getContext("2d"));return t&&i?(this.$refs.cache.width=n,this.$refs.cache.height=n,i.drawImage(this.$refs.img,s/a,o/a,n/a,n/a,0,0,n,n),this.$refs.cache.toDataURL()):this.user.imageUrl}},{key:"inputName",get:function(){var e=this.input.name,t=this.loading.name,a=this.user,s=e&&a.name!==e&&!t;return{enabled:s,className:{"btn-primary":s,"btn-secondary":!s}}}},{key:"inputPassword",get:function(){var e=this.input,t=e.password,a=(e.confirm,this.loading.password),s=""!==t&&!a;return{enabled:s,className:{"btn-primary":s,"btn-secondary":!s}}}},{key:"inputProfile",get:function(){var e=this.cutBox.hasImage,t=this.loading.profile,a=e&&!t;return{enabled:a}}},{key:"inputConfirm",get:function(){var e=this.input,t=e.password,a=e.confirm,s=t===a&&t.length>=4;return{enabled:s,className:{"btn-primary":s,"btn-secondary":!s}}}},{key:"imageCutStyle",get:function(){var e=this.cutBox,t=e.left,a=e.top,s=e.size,o=(e.maxSize,e.minSize,e.imgWidth),n=e.imgHeight,i=o-s-t,r=n-s-a;return{"clip-path":"inset(".concat(a,"px ").concat(i,"px ").concat(r,"px ").concat(t,"px)")}}},{key:"cutBoxStyle",get:function(){var e=this.cutBox,t=e.left,a=e.top,s=e.size;e.maxSize,e.minSize,e.imgWidth,e.imgHeight;return{left:"".concat(t,"px"),top:"".concat(a,"px"),width:"".concat(s,"px"),height:"".concat(s,"px")}}}]),t}(d["d"]);X=p["a"]([Object(d["a"])({components:{Profile:Q["a"]}})],X);var J=X,Z=J,ee=(a("7175"),Object(D["a"])(Z,W,q,!1,null,"01793371",null)),te=ee.exports,ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"StickerPage-Component"},[a("DropFileUpload",{staticClass:"sticker-wrapper",attrs:{disabled:e.dragFileDisabled,exts:e.allowExts},on:{"drop-files":e.onDropFiles}},[a("draggable",{class:{disabled:!e.canEdit},attrs:{draggable:".sticker-item",disabled:!e.canEdit},on:{change:e.moveSticker,start:e.onDraggableStart,end:e.onDraggableEnd},model:{value:e.stickers,callback:function(t){e.stickers=t},expression:"stickers"}},e._l(e.stickers,function(t){return a("div",{key:t.id,staticClass:"sticker-item",class:{exists:t.exists}},[a("img",{attrs:{src:t.imageUrl,alt:""}}),a("div",{staticClass:"options-panel"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.isSelf&&!t.exists,expression:"!isSelf && !sticker.exists"}],attrs:{type:"infor",size:"mini"},on:{click:function(a){return a.preventDefault(),e.cloneSticker(t)}}},[e._v("\n                        Clone\n                    ")]),a("span",{directives:[{name:"show",rawName:"v-show",value:e.canEdit,expression:"canEdit"}],staticClass:"btn btn-danger btn-sm",attrs:{loading:t.loading},on:{focus:function(e){e.preventDefault()},click:function(a){return a.preventDefault(),e.confirmDeleteSticker(t)}}},[e._v("\n                        Delete\n                    ")])],1)])}),0),a("div",{directives:[{name:"show",rawName:"v-show",value:e.upload.processing,expression:"upload.processing"}],staticClass:"upload-progress-bar"},[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar progress-bar-striped progress-bar-animated bg-success",style:e.processStyle,attrs:{role:"progressbar","aria-valuenow":"75","aria-valuemin":"0","aria-valuemax":"100"}})])])],1),a("div",{staticClass:"sticker-list"})],1)},se=[],oe=a("4331"),ne=a("1942"),ie=a("0d6e");function re(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function le(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?re(a,!0).forEach(function(t){Object(b["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):re(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var ce=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(l["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.stickers=[],e.upload={total:0,finish:0,processing:!1},e.draggable=!1,e.loading={reload:!1},e}return Object(u["a"])(t,e),Object(r["a"])(t,[{key:"watchUid",value:function(){this.reload()}},{key:"reload",value:function(){var e=this,t={userId:this.uid};this.loading.reload||(this.loading.reload=!0,y["a"].get("/stickers",{data:t}).then(function(t){e.stickers=t.map(function(e){return le({},e,{loading:!1})})}).then(function(){e.loading.reload=!1}))}},{key:"onDropFiles",value:function(e){var t=this,a=this.allowExts,s=e.files.filter(function(e){return Object(ne["a"])(a,e.type)});if(!this.upload.processing&&s){this.upload.total=s.length+1,this.upload.processing=!0;var o=Object(ne["c"])(s,function(e){return new Promise(function(){var a=Object(Y["a"])(regeneratorRuntime.mark(function a(s){var o,n;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(ie["a"])(e);case 2:if(o=a.sent,t.upload.finish+=1,o.result){a.next=8;break}return y["c"].notice.error("load fail"),s(),a.abrupt("return");case 8:n={image:o.result},y["a"].post("/stickers/0/add",{data:n}).catch(function(e){y["c"].notice.error(e.message)}).finally(function(){s()});case 10:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}())});o.finally(function(){t.upload.processing=!1,t.reload()})}}},{key:"onDraggableStart",value:function(){this.draggable=!0}},{key:"onDraggableEnd",value:function(){this.draggable=!1}},{key:"moveSticker",value:function(e){var t=this,a=e.moved;if(a){var s=a.newIndex,o=s>0&&this.stickers[s-1]||null,n=a.element.id,i={odr:o?o.odr+1:0},r=10*Math.ceil(i.odr/10);y["a"].post("/stickers/".concat(n,"/move"),{data:i}).then(function(e){e.odr!==r&&t.reload()})}}},{key:"confirmDeleteSticker",value:function(e){var t=this,a='\n            <div class="delete-sticker-confirm">\n                <img src="'.concat(e.imageUrl,'" />\n                <label>確定刪除此圖片？</label>\n            </div>');this.$confirm(a,"",{dangerouslyUseHTMLString:!0}).then(function(){t.deleteSticker(e)}).catch(function(){})}},{key:"deleteSticker",value:function(e){var t=this;y["a"].post("/stickers/".concat(e.id,"/delete")).then(function(){t.reload()}).catch(function(e){y["c"].notice.error(e.message)})}},{key:"cloneSticker",value:function(e){e.loading||(e.loading=!1,y["a"].post("/stickers/".concat(e.id,"/clone")).then(function(){e.exists=!0,y["c"].notice.success("成功新增圖片")}).finally(function(){e.loading=!1}))}},{key:"user",get:function(){return M["a"].state.User}},{key:"isSelf",get:function(){return this.user.id===this.uid}},{key:"dragFileDisabled",get:function(){var e=this.draggable,t=this.canEdit;return e||!t}},{key:"canEdit",get:function(){var e=this.upload.processing;return this.user.id===this.uid&&!e}},{key:"allowExts",get:function(){return["image/png","image/jpeg","image/gif"]}},{key:"processStyle",get:function(){var e=this.upload,t=e.finish,a=e.total;return{width:Math.floor(t/a*100)/100}}}]),t}(d["d"]);p["a"]([Object(d["c"])(Number)],ce.prototype,"uid",void 0),p["a"]([Object(d["e"])("uid",{immediate:!0})],ce.prototype,"watchUid",null),ce=p["a"]([Object(d["a"])({components:{Draggable:v.a,DropFileUpload:oe["a"]}})],ce);var ue=ce,pe=ue,de=(a("38bc"),a("53e5"),Object(D["a"])(pe,ae,se,!1,null,"472830da",null)),me=de.exports,fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("PanelWrapper",{attrs:{title:e._f("pt")("title")}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"SystemConfigPage-Component row "},[a("form",{staticClass:"col-4",on:{submit:function(t){return t.preventDefault(),e.save(t)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col"},[a("label",{attrs:{for:""}},[e._v(e._s(e._f("pt")("talk-connect-limit")))]),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.input.talkConnectLimit,expression:"input.talkConnectLimit"}],staticClass:"form-control",attrs:{type:"number",name:"talkConnectLimit"},domProps:{value:e.input.talkConnectLimit},on:{input:function(t){t.target.composing||e.$set(e.input,"talkConnectLimit",t.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text"},[e._v(e._s(e._f("t")("common.times.seconds")))])])])])]),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col"}),a("div",{staticClass:"col-auto"},[a("el-button",{attrs:{size:"small",loading:e.saving,"native-type":"reset"}},[e._v(e._s(e._f("t")("common.reset")))]),a("el-button",{attrs:{size:"small","native-type":"submit",loading:e.saving,type:"primary"}},[e._v(e._s(e._f("t")("common.save")))])],1)])])])])},be=[];function he(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function ve(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?he(a,!0).forEach(function(t){Object(b["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):he(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var ye=Object(g["b"])("system-config"),ge=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(l["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.input={talkConnectLimit:0},e.saving=!1,e.loading=!1,e}return Object(u["a"])(t,e),Object(r["a"])(t,[{key:"watchSystemConfig",value:function(){this.input=ve({},this.systemConfig)}},{key:"mounted",value:function(){this.reload()}},{key:"reload",value:function(){var e=this;this.loading||(this.loading=!0,y["c"].reloadSystemConfig().finally(function(){return e.loading=!1}))}},{key:"save",value:function(){var e=this,t=ve({},this.input);this.saving||(this.saving=!0,this.clearInvalids(),y["a"].post("/system-config",{data:t}).then(function(){e.reload(),y["c"].notice.success(e.$t("common.save-success").toString())}).catch(function(t){t&&t.errors&&e.setInvalids(t)}).finally(function(){return e.saving=!1}))}},{key:"user",get:function(){return M["a"].state.User}},{key:"systemConfig",get:function(){return M["a"].state.App.systemConfig}}]),t}(Object(d["b"])(w["a"]));p["a"]([Object(d["e"])("systemConfig",{deep:!0,immediate:!0})],ge.prototype,"watchSystemConfig",null),ge=p["a"]([Object(d["a"])({filters:{pt:ye},components:{Profile:Q["a"]}})],ge);var je=ge,ke=je,_e=(a("6bff"),Object(D["a"])(ke,fe,be,!1,null,"5e7d2673",null)),we=_e.exports,Oe=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(l["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.activeName="article",e.optionUsers=[],e.input={uid:0},e}return Object(u["a"])(t,e),Object(r["a"])(t,[{key:"mounted",value:function(){this.reloadUsers();var e=(this.$route.query.tab||"").toString();Object(ne["a"])(["article","sticker","personal","systemConfig"],e)&&(this.activeName=e)}},{key:"reloadUsers",value:function(){var e=this;return y["a"].get("/option/users").then(function(t){e.optionUsers=Object(n["a"])(t),0===e.input.uid&&(e.input.uid=e.user.id)})}},{key:"user",get:function(){return M["a"].state.User}}]),t}(d["d"]);Oe=p["a"]([Object(d["a"])({components:{ArticlePage:U,PersonalPage:te,StickerPage:me,SystemConfigPage:we}})],Oe);var Ce=Oe,Se=Ce,Pe=(a("44c9"),Object(D["a"])(Se,s,o,!1,null,"1cf34900",null));t["default"]=Pe.exports},cb6e:function(e){e.exports={common:{signout:"登出","no-data":"無資料",all:"全部",edit:"修改",add:"新增",save:"儲存",delete:"刪除",cancel:"取消",clear:"清除",back:"上一頁",search:"查詢","please-select":"請選擇",username:"帳號",password:"密碼","sign-in":"登入","sign-out":"登出",status:"狀態","edit-password":"修改密碼","edit-title":"修改 {name}","add-title":"新增 {name}",loading:"載入中...",support:"支援","status-enabled":"啟用狀態",enabled:"啟用",disabled:"停用",transfer:"轉接",options:"功能",remark:"備註",reset:"重置","browser-info":"瀏覽器資訊","save-success":"儲存成功",limit:"限制","no-limit":"不限制",times:{seconds:"秒",minutes:"分","time-consuming-hms":"{h} 時 {m} 分 {s} 秒","time-consuming-ms":"{m} 分 {s} 秒","time-consuming-s":"{s} 秒",today:"今天",yesterday:"昨天","some-days-ago":"{some} 天前",sunday:"星期日",monday:"星期一",tuesday:"星期二",wednesday:"星期三",thursday:"星期四",friday:"星期五",saturday:"星期六",sun:"周日",mon:"周一",tue:"周二",wed:"周三",thu:"周四",fri:"周五",sat:"周六","last-week":"上{day}"},roles:{supervisor:"主管",executive:"專員"},"talk-status":{waiting:"等待中...",closed:"已結案",start:"服務中...",offline:"訪客離線",unprocessed:"未服務",shutdown:"系統錯誤關閉"}},component:{"list-grid":{next:"下一頁",previous:"上一頁","size-option":"{value} 筆"},"update-password-dialog":{title:"修改 {name} 密碼","old-password":"舊密碼","new-password":"新密碼","confirm-password":"確認密碼","confirm-password-error":"兩次輸入的密碼不相同"}},users:{title:{edit:"修改成員",add:"新增成員"},user:"成員","online-status":"在線狀態",username:"帳號",password:"密碼",name:"名稱",role:"角色","reset-login-errors":"重置登入錯誤","login-at":"登入時間",ip:"IP","login-errors":"密碼錯誤次數"},"log-user-login":{title:"{username}【{name}】 登入記錄","login-at":"登入時間",ip:"IP"},message:{"confirm-delete-message":"確定要刪除此對話訊息？","message-is-deleted":"此訊息已被刪除"},talk:{pause:"系統暫停",ready:"系統就緒"},"talk-record":{ip:"IP",id:"編號",name:"訪客名稱",date:"日期","connect-at":"連線時間","start-at":"接線時間","closed-at":"結束時間",executive:"服務專員","executive-username":"專員帳號","talk-status":"服務狀態","time-waiting":"等待時間","time-service":"服務時間"},article:{article:"文章",title:"常用文章","common-setting":"共用設定","personal-setting":"個人設定","personal-list":"個人列表","article-key":"關鍵字","article-name":"名稱","article-content":"文章內容","auto-send":"自動發送","auto-send-none":"無","auto-send-connected":"訪客連線後 (connected)","auto-send-start":"專員接線後 (start)","auto-send-pause":"系統暫停時 (pause)"},"clear-talk-record":{"confirm-delete-label":"確認要刪除下列時間的資料，確認後勾選刪除。"},"system-config":{title:"系統設定","talk-connect-limit":"顧客連線時間限制(未達時間則自動 Close, 0 則停用)"}}},ccc0:function(e,t,a){"use strict";var s=a("9745"),o=a.n(s);o.a},cd49:function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var s=a("2b0e"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[e.isLogin?a("div",{staticClass:"app-wrapper row no-gutters"},[a("div",{staticClass:"app-left col-auto"},[a("AppMenu")],1),a("div",{staticClass:"app-main col "},[a("router-view")],1)]):e._e(),!e.isLogin&&e.loginCheck?a("AppLogin"):e._e()],1)},n=[],i=(a("8e6e"),a("456d"),a("bd86")),r=(a("ac6a"),a("d225")),l=a("b0b4"),c=a("308d"),u=a("6bb5"),p=a("4e2b"),d=a("9ab4"),m=a("60a3"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[a("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[e._v("E-Service")]),e._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav mr-auto"},e._l(e.links,function(t){return a("li",{key:t.path,staticClass:"nav-item",class:t.className},[a("router-link",{staticClass:"nav-link",attrs:{to:t.path}},[e._v("\n                    "+e._s(t.label)+"\n                ")])],1)}),0),e.isLogin?a("div",{staticClass:"my-2 my-lg-0"},[a("button",{staticClass:"btn btn-danger my-2 my-sm-0",on:{click:e.logout}},[e._v("Sign out")])]):a("div",{staticClass:"my-2 my-lg-0"},[a("router-link",{staticClass:"btn btn-outline-info my-2 my-sm-0",attrs:{to:"/login"}},[e._v("Sign in")])],1)])])},b=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],h=a("3a0b"),v=a("7c04"),y=function(e){function t(){return Object(r["a"])(this,t),Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments))}return Object(p["a"])(t,e),Object(l["a"])(t,[{key:"logout",value:function(){v["c"].logout()}},{key:"isLogin",get:function(){return h["a"].state.User.id>0}},{key:"user",get:function(){return h["a"].state.User}},{key:"links",get:function(){var e=this.$route.path,t=this.user,a=[{path:"/",label:"服務首頁",className:{active:!1}}];return"supervisor"===t.role&&(a.push({path:"/services",label:"客服管理",className:{active:!1}}),a.push({path:"/records",label:"服務記錄",className:{active:!1}})),a.map(function(t){return t.className.active="/"===t.path?e===t.path:0===e.indexOf(t.path),t})}}]),t}(m["d"]);y=d["a"]([m["a"]],y);var g=y,j=g,k=(a("2dac"),a("2877")),_=Object(k["a"])(j,f,b,!1,null,"37a54b0c",null),w=_.exports,O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"AppMenu-Component"},[a("div",{staticClass:"user-info"},[a("div",{staticClass:"user-info__profile"},[a("Profile",{attrs:{url:e.user.imageUrl,type:"service",size:"medium"}})],1),a("div",{staticClass:"user-info__name",attrs:{title:e.user.name}},[a("label",[e._v(" "+e._s(e.user.name))])])]),a("div",{staticClass:"system-status"},[a("el-switch",{attrs:{"active-color":"#ff4949","inactive-color":"#13ce66"},model:{value:e.pause,callback:function(t){e.pause=t},expression:"pause"}}),a("label",[e._v(e._s(e.systemStatus))])],1),a("div",{staticClass:"connect-limit"},[a("router-link",{attrs:{to:"/settings?tab=systemConfig",title:e._f("t")("system-config.talk-connect-limit")}},[e.systemConfig.talkConnectLimit?a("span",[e._v("\n                "+e._s(e._f("t")("common.limit"))+" : "+e._s(e.systemConfig.talkConnectLimit)+" "+e._s(e._f("t")("common.times.seconds"))+"\n            ")]):a("span",[e._v(e._s(e._f("t")("common.no-limit")))])])],1),a("div",{staticClass:"menu-list"},e._l(e.menus,function(t){return a("router-link",{key:t.path,staticClass:"menu-item",attrs:{tag:"div",to:t.path,title:t.label}},[a("i",{staticClass:"material-icons"},[e._v(e._s(t.icon))]),a("span",{staticClass:"badge badge-danger",class:{visible:t.badge>0}},[e._v(e._s(t.badge))])])}),1),a("div",{staticClass:"footer-list"},[a("div",{staticClass:"menu-item signout-link",attrs:{title:e._f("t")("common.signout")},on:{click:e.signout}},[a("i",{staticClass:"material-icons"},[e._v("exit_to_app")])]),a("div",{staticClass:"version"},[e._v("\n            v."+e._s(e.version)+"\n        ")])]),a("SoundEffect",{ref:"effectProcessing",attrs:{src:e.effects.processing}}),a("SoundEffect",{ref:"effectNotification02",attrs:{src:e.effects.notification02,loop:!1}})],1)},C=[],S=a("66aa"),P=a("9007"),x=a("1942"),N={processing:a("afab"),notification01:a("c029"),notification02:a("8c39")},F=function(e){function t(){return Object(r["a"])(this,t),Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments))}return Object(p["a"])(t,e),Object(l["a"])(t,[{key:"watchQueues",value:function(e){e>0?this.$refs.effectProcessing.play(!1):this.$refs.effectProcessing.stop()}},{key:"watchUnreads",value:function(e,t){e>t&&this.$refs.effectNotification02.play()}},{key:"mounted",value:function(){this.queues>0&&this.$refs.effectProcessing.play()}},{key:"signout",value:function(){v["c"].logout()}},{key:"user",get:function(){return h["a"].state.User}},{key:"version",get:function(){return h["a"].state.App.version}},{key:"systemConfig",get:function(){return h["a"].state.App.systemConfig}},{key:"menus",get:function(){var e=[{icon:"home",label:"首頁",path:"/home"},{icon:"question_answer",label:"對話",badge:this.unreads,path:"/talks"},{icon:"view_list",label:"對話記錄",badge:this.queues,path:"/talk-records"},{icon:"people",label:"成員管理",path:"/users"},{icon:"settings",label:"設定",path:"/settings"},{icon:"delete_sweep",label:"清理記錄",path:"/clear-record"}];return"supervisor"!==this.user.role&&(e=e.filter(function(e){return!Object(x["a"])(["/clear-record"],e.path)})),e}},{key:"effects",get:function(){return N}},{key:"queues",get:function(){return h["a"].state.Talks.talks.filter(function(e){var t=e.status,a=e.online;return"waiting"===t&&a}).length}},{key:"unreads",get:function(){return h["a"].state.Talks.talks.reduce(function(e,t){return e+t.unreads},0)}},{key:"pause",get:function(){return h["a"].state.Talks.pause},set:function(e){v["c"].talks.togglePause(!0===e)}},{key:"systemStatus",get:function(){return this.pause?this.$t("talk.pause"):this.$t("talk.ready")}}]),t}(m["d"]);d["a"]([Object(m["e"])("queues")],F.prototype,"watchQueues",null),d["a"]([Object(m["e"])("unreads")],F.prototype,"watchUnreads",null),F=d["a"]([Object(m["a"])({components:{Profile:S["a"],SoundEffect:P["a"]}})],F);var T=F,D=T,E=(a("0017"),Object(k["a"])(D,O,C,!1,null,"61334d74",null)),A=E.exports,M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sign-in-component row"},[a("div",{staticClass:"col align-self-start"}),a("div",{staticClass:"col align-self-center"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"login-username"}},[e._v(e._s(e._f("t")("common.username")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.input.username,expression:"input.username"}],staticClass:"form-control",attrs:{id:"login-username",type:"text",autocomplete:"off"},domProps:{value:e.input.username},on:{input:function(t){t.target.composing||e.$set(e.input,"username",t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"login-password"}},[e._v(e._s(e._f("t")("common.password")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.input.password,expression:"input.password"}],staticClass:"form-control",attrs:{id:"login-password",type:"password",autocomplete:"off"},domProps:{value:e.input.password},on:{input:function(t){t.target.composing||e.$set(e.input,"password",t.target.value)}}})]),a("button",{staticClass:"btn btn-success btn-block",attrs:{disabled:e.loading,loading:e.loading,type:"submit"}},[e._v(e._s(e._f("t")("common.sign-in")))])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}],staticClass:"alert alert-danger"},[e._v(e._s(e.error))])]),a("div",{staticClass:"col align-self-end"})])},I=[],$=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.input={username:"",password:""},e.loading=!1,e.error="",e.loginTimer=0,e}return Object(p["a"])(t,e),Object(l["a"])(t,[{key:"watchIsConnected",value:function(e){var t=this,a=localStorage.getItem("dev-user")||"";e&&a&&(console.info(a),this.loginTimer=setTimeout(function(){t.input.username=a,t.input.password=a,t.login()},100))}},{key:"beforeDestroy",value:function(){clearTimeout(this.loginTimer)}},{key:"login",value:function(){var e=this,t=this.input,a=t.username,s=t.password;this.error="",this.loading||(this.loading=!0,v["c"].login(a,s).then(function(){e.$router.push("/")}).catch(function(t){t&&t.message&&(e.error=t.message)}).finally(function(){e.loading=!1}))}},{key:"isConnected",get:function(){return"connected"===h["a"].state.App.status}}]),t}(m["d"]);d["a"]([Object(m["e"])("isConnected",{immediate:!0})],$.prototype,"watchIsConnected",null),$=d["a"]([m["a"]],$);var L=$,B=L,z=(a("ec65"),Object(k["a"])(B,M,I,!1,null,"7d8f6ce7",null)),H=z.exports;function R(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function U(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(a,!0).forEach(function(t){Object(i["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var W=function(e){function t(){return Object(r["a"])(this,t),Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments))}return Object(p["a"])(t,e),Object(l["a"])(t,[{key:"watchNotices",value:function(e){var t=this,a=0;e.length&&(e.forEach(function(e){t.$notify(U({},e,{customClass:"app-notify-item",dangerouslyUseHTMLString:!0,message:'<div class="app-notify-item__content">'.concat(e.message,"</div>")})),a=Math.max(e.id,a)}),v["c"].notice.clear(a))}},{key:"isLogin",get:function(){return h["a"].state.User.id>0}},{key:"loginCheck",get:function(){return h["a"].state.User.loginCheck}},{key:"notices",get:function(){return h["a"].state.App.notices}}]),t}(m["d"]);d["a"]([Object(m["e"])("notices")],W.prototype,"watchNotices",null),W=d["a"]([Object(m["a"])({components:{Navbar:w,AppMenu:A,AppLogin:H}})],W);var q=W,Y=q,G=(a("bb3f"),a("5c64"),Object(k["a"])(Y,o,n,!1,null,"22896237",null)),Q=G.exports,V=a("8c4f"),K=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("PanelWrapper",{attrs:{title:"更新記錄"}},[a("div",{staticClass:"home"},[a("h4",[e._v("19 / 11 / 21. Update version 1.1.1")]),a("h6",[e._v("訪客連線時間限制")]),a("ul",[a("li",[e._v("增加訪客連線最短秒數時間限制, 若未達限制的秒數，系統將自動結案對話。")]),a("li",[e._v("\n                增加上述功能的資料設定。 "),a("router-link",{attrs:{to:"/settings?tab=systemConfig"}},[e._v("link")])],1),a("li",[e._v("左側選單增加目前上述功能的設定值")])]),a("h6",[e._v("對話記錄列表")]),a("ul",[a("li",[e._v("增加備註(系統自動結案的對話，會另外備註說明)")]),a("li",[e._v("日期增加額外標籤，方便閱讀是哪一天的資料")])])])])},X=[],J=(a("a481"),function(e){function t(){return Object(r["a"])(this,t),Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments))}return Object(p["a"])(t,e),Object(l["a"])(t,[{key:"watchRoutePath",value:function(e){"/"===e&&(console.info(e),this.$router.replace("/home"))}},{key:"userOnlineStatusClass",value:function(e){return{"btn-success":e.online,"btn-light":!e.online}}},{key:"users",get:function(){return h["a"].state.App.users}}]),t}(m["d"]));d["a"]([Object(m["e"])("$route.path",{immediate:!0})],J.prototype,"watchRoutePath",null),J=d["a"]([m["a"]],J);var Z=J,ee=Z,te=(a("b13c"),Object(k["a"])(ee,K,X,!1,null,"114c17a9",null)),ae=te.exports;s["default"].use(V["a"]);var se=new V["a"]({mode:"hash",base:"/service-assigns/",routes:[{path:"/",component:ae},{path:"/home",component:ae},{path:"/talks",component:a("d89d").default},{path:"/talk-records",component:a("30a8").default},{path:"/users",component:a("e3e2").default,children:[{path:"",component:a("5142").default},{path:":id",component:a("328d").default}]},{path:"/settings",component:a("c924").default},{path:"/about",name:"about",component:function(){return a.e("about").then(a.bind(null,"f820"))}},{path:"/clear-record",component:function(){return a.e("chunk-34f42f2b").then(a.bind(null,"631a"))}}]}),oe=a("88c3"),ne=(a("6b54"),a("c1df")),ie=a.n(ne),re=[{key:"h",value:36e5},{key:"m",value:6e4},{key:"s",value:1e3}],le=function(e){var t=e,a={h:0,m:0,s:0};return re.forEach(function(e){a[e.key]=Math.floor(t/e.value),t%=e.value}),a};s["default"].filter("t",function(e,t){return oe["a"].t(e,t).toString()}),s["default"].filter("dt",function(e,t){return e?ie()(e).format(t):e}),s["default"].filter("tcf",function(e,t){var a=le(e);return t?oe["a"].t(t,a).toString():a.h?oe["a"].t("common.times.time-consuming-hms",a):a.m?oe["a"].t("common.times.time-consuming-ms",a):a.s?oe["a"].t("common.times.time-consuming-s",a):void 0}),s["default"].directive("drag",{inserted:function(e,t){var a=!1,s=0,o=0,n=0,i=0,r={top:0,left:0,height:0,width:0},l=t.value,c=l.target,u=void 0===c?null:c,p=l.callback,d=void 0===p?null:p,m=u?document.querySelector(t.value.target):null;m&&(r.height=m.getBoundingClientRect().height,r.width=m.getBoundingClientRect().width),e.addEventListener("mousedown",function(e){a=!0,s=e.clientX,o=e.clientY,n=0,i=0,m&&(r.top=m.offsetTop,r.left=m.offsetLeft),d({name:"mousedown",x:s,y:o}),e.preventDefault()}),window.addEventListener("mousemove",function(e){a&&(n=r.left+e.clientX-s,i=r.top+e.clientY-o,m&&(m.style.top="".concat(i,"px"),m.style.left="".concat(n,"px")),d&&d({name:"mousemove",moveX:n,moveY:i}))}),window.addEventListener("mouseup",function(){a=!1})}});var ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"PageWrapper-Component d-flex flex-column"},[a("div",{staticClass:"header"},[e._t("title",[a("div",{staticClass:"page-title"},[e._v(e._s(e.title))])])],2),a("div",{staticClass:"main flex-fill",style:e.styles},[e._t("default")],2)])},ue=[],pe=function(e){function t(){return Object(r["a"])(this,t),Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments))}return Object(p["a"])(t,e),Object(l["a"])(t,[{key:"styles",get:function(){var e={};return this.padding&&(e.padding=this.padding),e}}]),t}(m["d"]);d["a"]([Object(m["c"])(String)],pe.prototype,"title",void 0),d["a"]([Object(m["c"])(String)],pe.prototype,"padding",void 0),pe=d["a"]([m["a"]],pe);var de=pe,me=de,fe=(a("2734"),Object(k["a"])(me,ce,ue,!1,null,"6b54dd39",null)),be=fe.exports,he=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"PanelWrapper-Component d-flex flex-column"},[a("div",{staticClass:"header"},[e._t("header",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.title,expression:"title"}],staticClass:"panel-header row no-gutters"},[a("div",{staticClass:"col panel-header__title"},[e._v(e._s(e.title))]),a("div",{staticClass:"col-auto"},[e._t("title-right")],2)])])],2),a("div",{staticClass:"main flex-fill"},[e._t("default")],2)])},ve=[],ye=function(e){function t(){return Object(r["a"])(this,t),Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments))}return Object(p["a"])(t,e),t}(m["d"]);d["a"]([Object(m["c"])(String)],ye.prototype,"title",void 0),ye=d["a"]([m["a"]],ye);var ge=ye,je=ge,ke=(a("9358"),Object(k["a"])(je,he,ve,!1,null,"7c3b4090",null)),_e=ke.exports,we=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"list-grid-component"},[a("div",{staticClass:"content",class:{fixed:e.fixed}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.promiseRunning,expression:"promiseRunning"}],ref:"tab",attrs:{data:e.rows,size:"mini",stripe:"",border:"","default-sort":e.defaultSort,height:e.height,"row-class-name":e.rowClassName},on:{"sort-change":e.changeSort,"filter-change":e.onFilterChange}},[a("template",{slot:"empty"},[e._t("empty",[e._v(" "+e._s(e._f("t")("common.no-data"))+" ")])],2),e._t("default")],2),a("div",{staticClass:"row no-gutters paginate-wrapper"},[a("div",{staticClass:"col"}),a("el-pagination",{attrs:{background:"","page-sizes":[15,50,100],"page-size":e.query.size,"current-page":e.query.page,layout:"sizes, prev, pager, next",total:e.total},on:{"size-change":e.changesize,"current-change":e.changePage}})],1)],1)])},Oe=[],Ce=a("768b"),Se=a("75fc"),Pe=(a("c5f6"),a("28a5"),a("01c8")),xe=function(e){function t(){var e;if(Object(r["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).call(this)),e.rows=[],e.total=0,e.cahceQuery={page:1,firstSort:"",sorts:[],size:15},e.promiseRunning=!1,e.sorts){var a=e.sorts.split("|"),s=Object(Pe["a"])(a),o=s[0],n=void 0===o?"":o,i=s.slice(1);e.cahceQuery.firstSort=n,e.cahceQuery.sorts=i.slice()||[]}return e}return Object(p["a"])(t,e),Object(l["a"])(t,[{key:"watchPromiseRunning",value:function(e){this.$emit("update:loading",e)}},{key:"watchData",value:function(e){var t=this;e&&(this.promiseRunning=!0,(e instanceof Promise?e:Promise.resolve(e)).then(function(e){if(t.$refs.tab){var a=t.$refs.tab.bodyWrapper;a.scrollTop=0}e?(t.rows=e.rows,t.total=Number(e.total),t.cahceQuery.size=Number(e.size),t.cahceQuery.page=Number(e.page)):(t.rows=[],t.total=0)}).finally(function(){t.promiseRunning=!1}))}},{key:"changePage",value:function(e){this.$emit("change",e)}},{key:"changeSort",value:function(e){if(e.prop){var t="ascending"===e.order?"asc":"desc";this.cahceQuery.firstSort="".concat(e.prop,",").concat(t)}else this.cahceQuery.firstSort="";this.$emit("change",1)}},{key:"changesize",value:function(e){var t=this.cahceQuery,a=Math.ceil(this.total/e);this.$emit("update:size",e),t.size=e,t.page>a&&(t.page=a),this.$emit("change")}},{key:"onFilterChange",value:function(e){this.$emit("filter-change",e)}},{key:"query",get:function(){var e=this.cahceQuery,t=e.firstSort?[e.firstSort].concat(Object(Se["a"])(e.sorts)):Object(Se["a"])(e.sorts);return{page:e.page,sorts:t,size:e.size}}},{key:"defaultSort",get:function(){var e=this.sorts?this.sorts.split("|"):[];if(e.length){var t=e[0].split(","),a=Object(Ce["a"])(t,2),s=a[0],o=a[1];return{prop:s,order:"asc"===o?"ascending":"descending"}}return{prop:null,order:null}}},{key:"isLoading",get:function(){return this.loading||this.promiseRunning}}]),t}(m["d"]);d["a"]([Object(m["c"])()],xe.prototype,"data",void 0),d["a"]([Object(m["c"])(String)],xe.prototype,"sorts",void 0),d["a"]([Object(m["c"])({type:Function,default:function(){return""}})],xe.prototype,"rowClassName",void 0),d["a"]([Object(m["c"])({type:Boolean,default:!1})],xe.prototype,"loading",void 0),d["a"]([Object(m["c"])(String)],xe.prototype,"height",void 0),d["a"]([Object(m["c"])(Boolean)],xe.prototype,"fixed",void 0),d["a"]([Object(m["e"])("promiseRunning")],xe.prototype,"watchPromiseRunning",null),d["a"]([Object(m["e"])("data")],xe.prototype,"watchData",null),xe=d["a"]([m["a"]],xe);var Ne=xe,Fe=Ne,Te=(a("737a"),Object(k["a"])(Fe,we,Oe,!1,null,null,null)),De=Te.exports,Ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"panel",staticClass:"InfiniteScroll-Component",on:{scroll:e.onScroll}},[a("div",{staticClass:"loading-panel"},[a("div",{staticClass:"loading-process direction-up",class:{show:e.isUpLoading}},[e._m(0),e._v("\n            "+e._s(e._f("t")("common.loading"))+"\n        ")])]),e._t("default"),a("div",{staticClass:"loading-panel"},[a("div",{staticClass:"loading-process direction-bottom",class:{show:e.isDownLoading}},[e._m(1),e._v("\n            "+e._s(e._f("t")("common.loading"))+"\n        ")])])],2)},Ae=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status"}},[a("span",{staticClass:"sr-only"},[e._v("Loading...")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status"}},[a("span",{staticClass:"sr-only"},[e._v("Loading...")])])}],Me=a("313c"),Ie=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.innerHeight=0,e.delayTimer=0,e.delaying=!1,e.lastTop=0,e.lastScrollHeight=0,e.lastDirection="down",e.promiseLoad=null,e.bottom=!1,e}return Object(p["a"])(t,e),Object(l["a"])(t,[{key:"watchDisabled",value:function(e){e||this.disabled||Math.abs(this.$refs.panel.scrollHeight-this.innerHeight)>this.actionHeight||this.onScroll()}},{key:"watchPromiseLoad",value:function(){var e=this;if(this.promiseLoad){var t=this.$refs.panel;this.promiseLoad.finally(function(){if(e.promiseLoad=null,"up"===e.lastDirection){var a=t.scrollHeight;e.$nextTick(function(){t.scrollTop=e.lastTop+(a-e.lastScrollHeight),console.info(t.scrollTop,e.lastTop,e.lastScrollHeight,a),e.lastScrollHeight=a,e.lastTop=t.scrollTop})}})}}},{key:"mounted",value:function(){this.updaetHeight(),this.immediate&&this.onScroll()}},{key:"onScroll",value:function(){var e=this,t=this.$refs.panel,a=t.getBoundingClientRect().height,s=t.scrollTop,o=t.scrollHeight,n=s<this.lastTop;if(this.lastScrollHeight=o,this.lastTop=s,!(this.disabled||this.delaying||this.loading)){if(n){if(this.bottom&&(this.bottom=!1),s>this.actionHeight)return;if(this.disabledBefore)return}else{if(o-a-s>this.actionHeight)return;if(this.bottom=!0,this.disabledAfter)return}if(this.delay>0&&(this.delaying=!0,this.delayTimer=setTimeout(function(){e.delaying=!1},this.delay)),this.promiseLoad)throw new Error("pp not null");this.lastDirection=n?"up":"down",this.promiseLoad=n?this.beforeLoad?this.beforeLoad():null:this.afterLoad?this.afterLoad():null}}},{key:"isBottom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if(e){var a=this.$refs.panel,s=Math.floor(a.getBoundingClientRect().height),o=Math.floor(a.scrollTop),n=Math.floor(a.scrollHeight);return Math.abs(o+s-n)<=t}return this.bottom}},{key:"toBottom",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t?this.$nextTick(function(){e.$refs.panel.scrollTop=e.$refs.panel.scrollHeight}):this.$refs.panel.scrollTop=this.$refs.panel.scrollHeight}},{key:"updaetHeight",value:function(){var e=this.$refs.panel.getBoundingClientRect();this.innerHeight=e.height}},{key:"loading",get:function(){return null!=this.promiseLoad}},{key:"isUpLoading",get:function(){var e=this.lastDirection,t=this.loading;return"up"===e&&t}},{key:"isDownLoading",get:function(){var e=this.lastDirection,t=this.loading;return"down"===e&&t}}]),t}(Object(m["b"])(Me["a"]));d["a"]([Object(m["c"])(Boolean)],Ie.prototype,"disabled",void 0),d["a"]([Object(m["c"])(Boolean)],Ie.prototype,"disabledBefore",void 0),d["a"]([Object(m["c"])(Boolean)],Ie.prototype,"disabledAfter",void 0),d["a"]([Object(m["c"])(Boolean)],Ie.prototype,"immediate",void 0),d["a"]([Object(m["c"])({type:Number,default:5})],Ie.prototype,"actionHeight",void 0),d["a"]([Object(m["c"])({type:Number,default:250})],Ie.prototype,"delay",void 0),d["a"]([Object(m["c"])(Function)],Ie.prototype,"beforeLoad",void 0),d["a"]([Object(m["c"])(Function)],Ie.prototype,"afterLoad",void 0),d["a"]([Object(m["e"])("loading")],Ie.prototype,"watchDisabled",null),d["a"]([Object(m["e"])("promiseLoad")],Ie.prototype,"watchPromiseLoad",null),Ie=d["a"]([m["a"]],Ie);var $e=Ie,Le=$e,Be=(a("c02f"),Object(k["a"])(Le,Ee,Ae,!1,null,"f526154a",null)),ze=Be.exports,He=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"HorizontalRule-Component",class:e.className,style:e.styles},[a("span",{staticClass:"hr-line",style:e.borderStyles}),a("div",{staticClass:"label"},[e._t("default",[e.label?a("label",[e._v(e._s(e.label))]):e._e()])],2),a("span",{staticClass:"hr-line",style:e.borderStyles})])},Re=[],Ue=(a("48c0"),function(e){function t(){return Object(r["a"])(this,t),Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments))}return Object(p["a"])(t,e),Object(l["a"])(t,[{key:"className",get:function(){var e=[],t=this.label,a=this.align;return t&&e.push("align-".concat(a)),e.join(" ")}},{key:"styles",get:function(){var e=this.color,t=this.bold;return{"font-weight":t?"bold":"normal",color:e}}},{key:"borderStyles",get:function(){var e=this.borderColor;return{"border-color":e}}}]),t}(m["d"]));d["a"]([Object(m["c"])(String)],Ue.prototype,"label",void 0),d["a"]([Object(m["c"])({type:String,default:"center"})],Ue.prototype,"align",void 0),d["a"]([Object(m["c"])({type:Boolean,default:!1})],Ue.prototype,"bold",void 0),d["a"]([Object(m["c"])({type:String,default:"#555"})],Ue.prototype,"color",void 0),d["a"]([Object(m["c"])({type:String,default:"#bbb"})],Ue.prototype,"borderColor",void 0),Ue=d["a"]([m["a"]],Ue);var We=Ue,qe=We,Ye=(a("135b"),Object(k["a"])(qe,He,Re,!1,null,"12b1b481",null)),Ge=Ye.exports,Qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticClass:"toggle-button-component btn btn-link btn-sm ",class:{readonly:e.readonly},attrs:{disabled:!0===e.disabled},on:{click:function(t){return t.preventDefault(),e.toggleStatus(t)}}},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.status,expression:"status"}],staticClass:"label-true"},[e._t("label-true",[e._v("\n            "+e._s(e.trueLabel)+"\n        ")])],2),a("span",{directives:[{name:"show",rawName:"v-show",value:!e.status,expression:"!status"}],staticClass:"label-false"},[e._t("label-false",[e._v("\n            "+e._s(e.falseLabel)+"\n        ")])],2)])},Ve=[],Ke=Object(oe["b"])("common"),Xe=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(c["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.promiseRunning=!1,e.status=!1,e}return Object(p["a"])(t,e),Object(l["a"])(t,[{key:"watchStatus",value:function(e){var t=this;void 0===e||this.isLoading||(this.promiseRunning=!0,(e instanceof Promise?e:Promise.resolve(e)).then(function(e){t.status=e}).finally(function(){t.promiseRunning=!1}))}},{key:"toggleStatus",value:function(){this.readonly||this.disabled||(this.$emit("click",!this.status),this.$emit("change",!this.status))}},{key:"isLoading",get:function(){return this.loading||this.promiseRunning}}]),t}(m["d"]);d["a"]([Object(m["c"])({type:String,default:Ke("enabled")})],Xe.prototype,"trueLabel",void 0),d["a"]([Object(m["c"])({type:String,default:Ke("disabled")})],Xe.prototype,"falseLabel",void 0),d["a"]([Object(m["c"])()],Xe.prototype,"value",void 0),d["a"]([Object(m["c"])({type:Boolean,default:!1})],Xe.prototype,"disabled",void 0),d["a"]([Object(m["c"])({type:Boolean,default:!1})],Xe.prototype,"readonly",void 0),d["a"]([Object(m["c"])({type:Boolean,default:!1})],Xe.prototype,"loading",void 0),d["a"]([Object(m["e"])("value",{immediate:!0})],Xe.prototype,"watchStatus",null),Xe=d["a"]([m["a"]],Xe);var Je=Xe,Ze=Je,et=(a("ec99"),Object(k["a"])(Ze,Qe,Ve,!1,null,null,null)),tt=et.exports;s["default"].component("ListGrid",De),s["default"].component("PageWrapper",be),s["default"].component("PanelWrapper",_e),s["default"].component("InfiniteScroll",ze),s["default"].component("HorizontalRule",Ge),s["default"].component("ToggleButton",tt);var at=a("5c96"),st=a.n(at);a("0fae"),a("4989"),a("ab8b"),a("9376"),a("c1c3");s["default"].use(st.a),s["default"].config.productionTip=!1,s["default"].config.devtools=!0,se.beforeEach(function(e,t,a){h["a"].state.User.loginCheck?a():v["c"].check().then(function(){a()})}),new s["default"]({router:se,store:h["a"],i18n:oe["a"],render:function(e){return e(Q)},computed:{isLogin:function(){return h["a"].state.User.id>0}}}).$mount("#app")},ce24:function(e,t,a){"use strict";var s=a("d9b9"),o=a.n(s);o.a},d22d:function(e,t,a){},d3c2:function(e,t,a){"use strict";var s=a("9033"),o=a.n(s);o.a},d54b:function(e,t,a){"use strict";var s=a("b4e4"),o=a.n(s);o.a},d89d:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"TalkMain-Component row no-gutters"},[a("PanelWrapper",{staticClass:"talk-list col-auto",attrs:{title:"對話清單"}},[a("div",{attrs:{slot:"title-right"},slot:"title-right"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.filterTalk,expression:"filterTalk"}],staticClass:"form-control form-control-sm",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.filterTalk=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"all"}},[e._v("全部")]),a("option",{attrs:{value:"self"}},[e._v("僅自己")])])]),a("transition-group",{attrs:{name:"flip-list",tag:"div"}},e._l(e.talks,function(e){return a("TalkItem",{key:e.id,attrs:{talk:e}})}),1)],1),a("div",{staticClass:"chat-wrapper col"},[e.activeTalk?a("Talk",{attrs:{"talk-id":e.activeTalk.id}}):e._e()],1)],1)},o=[],n=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),i=(a("55dd"),a("d225")),r=a("b0b4"),l=a("308d"),c=a("6bb5"),u=a("4e2b"),p=a("9ab4"),d=a("60a3"),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"TalkItem-Component",class:{active:e.active}},[a("div",{staticClass:"customer-info row no-gutters",class:{online:e.talk.online},on:{click:function(t){return e.onActive()}}},[e._m(0),a("div",{staticClass:"col-auto"}),a("div",{staticClass:"col"},[a("div",{staticClass:"customer-info__name"},[e._v(e._s(e.talk.name))])]),a("div",{staticClass:"col"},[a("span",{staticClass:"customer-info__ip"},[e._v(e._s(e.talk.ip))])]),a("div",{staticClass:"col-auto customer-info__time",class:e.talk.status},[e.isQueue?a("small",[e._v(e._s(e._f("dt")(e.talk.createdAt,"HH:mm")))]):e._e(),e.isStart?a("small",[e._v(e._s(e._f("dt")(e.talk.startAt,"HH:mm")))]):e._e(),e.isClosed?a("small",[e._v(e._s(e._f("dt")(e.talk.closedAt,"HH:mm")))]):e._e()])]),a("div",{staticClass:"talk-info row no-gutters"},[e.isOpenTalk?a("div",{staticClass:"col fixed-box"},[a("div",{staticClass:"talk-info__last-message"},[e._v("\n                "+e._s(e.lastMessageContent)+"  \n            ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.talk.unreads>0,expression:"talk.unreads > 0"}],staticClass:"talk-info__unreads badge badge-danger"},[e._v("\n                "+e._s(e.talk.unreads)+"\n            ")])]):e._e(),e.isStart?a("div",{staticClass:"col fixed-box"},[a("Profile",{staticClass:"talk-info__profile",attrs:{url:e.talk.executive.imageUrl,type:"service",online:e.talk.executive.online,size:"small"}}),a("label",{staticClass:"talk-info__executive-name"},[e._v(e._s(e.talk.executive.name))])],1):a("div",{staticClass:"col fixed-box talk-info__options"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isQueue,expression:"isQueue"}],attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.startTalk()}}},[e._v("接線")]),a("label",{directives:[{name:"show",rawName:"v-show",value:e.isClosed,expression:"isClosed"}]},[e._v(e._s(e._f("t")("common.talk-status.closed")))])],1)])])},f=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-auto"},[a("i",{staticClass:"customer-info__online material-icons"},[e._v("fiber_manual_record")])])}],b=a("3a0b"),h=a("66aa"),v=a("7c04"),y=function(e){function t(){return Object(i["a"])(this,t),Object(l["a"])(this,Object(c["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),Object(r["a"])(t,[{key:"startTalk",value:function(){v["c"].talks.startTalk(this.talk.id)}},{key:"onActive",value:function(){"waiting"!==this.talk.status&&(this.active?v["c"].talks.unactiveTalk():v["c"].talks.activeTalk(this.talk.id))}},{key:"active",get:function(){return b["a"].state.Talks.activeId===this.talk.id}},{key:"isOpenTalk",get:function(){return b["a"].state.User.id===this.talk.executive.id}},{key:"lastMessageContent",get:function(){return this.talk.lastMessage?this.talk.lastMessage.content:""}},{key:"isStart",get:function(){return"start"===this.talk.status}},{key:"isQueue",get:function(){var e=this.talk,t=e.status;e.online;return"waiting"===t}},{key:"isOffline",get:function(){var e=this.talk.online,t=this.isClosed;return!t&&!e}},{key:"isClosed",get:function(){return"closed"===this.talk.status}}]),t}(d["d"]);p["a"]([Object(d["c"])(Object)],y.prototype,"talk",void 0),y=p["a"]([Object(d["a"])({components:{Profile:h["a"]}})],y);var g=y,j=g,k=(a("21cc"),a("2877")),_=Object(k["a"])(j,m,f,!1,null,"9bd309e0",null),w=_.exports,O=a("c038");function C(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach(function(t){Object(n["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var P=function(e){function t(){return Object(i["a"])(this,t),Object(l["a"])(this,Object(c["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),Object(r["a"])(t,[{key:"beforeDestroy",value:function(){v["c"].talks.unactiveTalk()}},{key:"startTalk",value:function(e){v["c"].talks.startTalk(e.id)}},{key:"filterTalk",get:function(){return b["a"].state.Talks.filterTalk},set:function(e){b["a"].commit("talks/filter",e)}},{key:"user",get:function(){return b["a"].state.User}},{key:"isSupervisor",get:function(){return"supervisor"===this.user.role}},{key:"talks",get:function(){var e=this.isSupervisor,t=this.user.id,a="all"===this.filterTalk;return b["a"].getters.talks.filter(function(e){return a||0===e.executive.id||e.executive.id===t}).map(function(a){var s=a.executive.id>0,o=!a.watching&&(s&&e||a.closedAt>0)&&a.executive.id!==t;return S({},a,{isStart:s,canWatch:o,onlineSort:a.online?1:0,startSort:s?1:0,taskClass:Object(n["a"])({},status,!0),executiveClass:{"can-watch":o,offline:!a.executive.online}})}).sort(function(e,t){return e.closedAt-t.closedAt||t.onlineSort-e.onlineSort||e.startSort-t.startSort||t.id-e.id||e.createdAt-t.createdAt})}},{key:"activeTalk",get:function(){return b["a"].getters.activeTalk}}]),t}(d["d"]);P=p["a"]([Object(d["a"])({components:{Talk:O["a"],TalkItem:w}})],P);var x=P,N=x,F=(a("15ca"),Object(k["a"])(N,s,o,!1,null,"2a4d498e",null));t["default"]=F.exports},d9b9:function(e,t,a){},da33:function(e,t,a){},e055:function(e,t,a){},e3e2:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"UserMain-Component"},[a("router-view",{ref:"routerView"})],1)},o=[],n=(a("d3c2"),a("2877")),i={},r=Object(n["a"])(i,s,o,!1,null,"2b1bb634",null);t["default"]=r.exports},e414:function(e,t,a){"use strict";var s=a("ab77"),o=a.n(s);o.a},e53e:function(e,t,a){},e652:function(e,t,a){},e918:function(e,t,a){"use strict";var s,o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"btn btn-sm EmojiButton-Component",attrs:{type:"button"}},[e._v("\n    🙂\n    "),a("div",{staticClass:"emojis-panel"},[a("Emojis",{ref:"emojis"})],1)])},n=[],i=a("d225"),r=a("b0b4"),l=a("308d"),c=a("6bb5"),u=a("4e2b"),p=a("9ab4"),d=a("60a3"),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Emojis-Component"},[a("div",{staticClass:"tabs"},[e._l(e.tabs,function(t){return a("div",{key:t.value,staticClass:"tab",class:{active:t.value===e.activeTab.value},on:{mousedown:function(a){e.activeTab=t}}},[e._v("\n            "+e._s(t.emoji)+"\n        ")])}),a("div",{staticClass:"tab-empty"})],2),a("div",{staticClass:"search-panel"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],attrs:{type:"text",placeholder:"Sarch"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}),a("i",{staticClass:"material-icons"},[e._v("search")])]),a("div",{staticClass:"common-panel"}),a("div",{staticClass:"emoji-list"},[a("h6",[e._v(e._s(e.activeTab.label))]),e._l(e.emojis,function(t){return a("span",{key:t.emoji,staticClass:"emoji-item",on:{mouseenter:function(a){e.activeEmoji=t},mouseleave:function(t){e.activeEmoji=null},mousedown:function(a){return e.onSelectEmoji(t)}}},[e._v("\n            "+e._s(t.emoji)+"\n        ")])})],2),a("div",{staticClass:"emoji-detail"},[a("div",{staticClass:"emoji-detail__emoji"},[e._v(e._s(e.activeEmoji?e.activeEmoji.emoji:""))]),a("div",{staticClass:"emoji-detail__label"},[a("h6",[e._v(e._s(e.activeEmoji?e.activeEmoji.label:""))]),a("small",[e._v(e._s(e.activeEmoji?e.activeEmoji.shorts.join(", "):""))])])])])},f=[];a("386d");(function(e){e["People"]="People",e["Foods"]="Foods",e["Nature"]="Nature",e["Symbols"]="Symbols"})(s||(s={}));var b=[{emoji:"😀",type:s.People,label:"Grinning Face",shorts:["grinning"]},{emoji:"😃",type:s.People,label:"Grinning Face With Big Eyes",shorts:["smiley"]},{emoji:"😄",type:s.People,label:"Grinning Face With Smiling Eyes",shorts:["smile"]},{emoji:"😁",type:s.People,label:"Beaming Face With Smiling Eyes",shorts:["grin"]},{emoji:"😆",type:s.People,label:"Grinning Squinting Face",shorts:["laughing","satisfied"]},{emoji:"😅",type:s.People,label:"Grinning Face With Sweat",shorts:["sweat_smile"]},{emoji:"🤣",type:s.People,label:"Rolling on the Floor Laughing",shorts:[]},{emoji:"😂",type:s.People,label:"Face With Tears of Joy",shorts:["joy"]},{emoji:"🙂",type:s.People,label:"Slightly Smiling Face",shorts:[]},{emoji:"🙃",type:s.People,label:"Upside-Down Face",shorts:[]},{emoji:"😉",type:s.People,label:"Winking Face",shorts:["wink"]},{emoji:"😊",type:s.People,label:"Smiling Face With Smiling Eyes",shorts:["blush"]},{emoji:"😇",type:s.People,label:"Smiling Face With Halo",shorts:["innocent"]},{emoji:"😍",type:s.People,label:"Smiling Face With Heart-Eyes",shorts:["heart_eyes"]},{emoji:"🤩",type:s.People,label:"Star-Struck",shorts:[]},{emoji:"😘",type:s.People,label:"Face Blowing a Kiss",shorts:["kissing_heart"]},{emoji:"😗",type:s.People,label:"Kissing Face",shorts:["kissing"]},{emoji:"😚",type:s.People,label:"Kissing Face With Closed Eyes",shorts:["kissing_closed_eyes"]},{emoji:"😙",type:s.People,label:"Kissing Face With Smiling Eyes",shorts:["kissing_smiling_eyes"]},{emoji:"😋",type:s.People,label:"Face Savoring Food",shorts:["yum"]},{emoji:"😛",type:s.People,label:"Face With Tongue",shorts:["stuck_out_tongue"]},{emoji:"😜",type:s.People,label:"Winking Face With Tongue",shorts:["stuck_out_tongue_winking_eye"]},{emoji:"🤪",type:s.People,label:"Zany Face",shorts:[]},{emoji:"😝",type:s.People,label:"Squinting Face With Tongue",shorts:["stuck_out_tongue_closed_eyes"]},{emoji:"🤑",type:s.People,label:"Money-Mouth Face",shorts:[]},{emoji:"🤗",type:s.People,label:"Hugging Face",shorts:[]},{emoji:"🤭",type:s.People,label:"Face With Hand Over Mouth",shorts:[]},{emoji:"🤫",type:s.People,label:"Shushing Face",shorts:[]},{emoji:"🤔",type:s.People,label:"Thinking Face",shorts:[]},{emoji:"🤐",type:s.People,label:"Zipper-Mouth Face",shorts:[]},{emoji:"🤨",type:s.People,label:"Face With Raised Eyebrow",shorts:[]},{emoji:"😐",type:s.People,label:"Neutral Face",shorts:["neutral_face"]},{emoji:"😑",type:s.People,label:"Expressionless Face",shorts:["expressionless"]},{emoji:"😶",type:s.People,label:"Face Without Mouth",shorts:["no_mouth"]},{emoji:"😏",type:s.People,label:"Smirking Face",shorts:["smirk"]},{emoji:"😒",type:s.People,label:"Unamused Face",shorts:["unamused"]},{emoji:"🙄",type:s.People,label:"Face With Rolling Eyes",shorts:[]},{emoji:"😬",type:s.People,label:"Grimacing Face",shorts:["grimacing"]},{emoji:"🤥",type:s.People,label:"Lying Face",shorts:[]},{emoji:"😌",type:s.People,label:"Relieved Face",shorts:["relieved"]},{emoji:"😔",type:s.People,label:"Pensive Face",shorts:["pensive"]},{emoji:"😪",type:s.People,label:"Sleepy Face",shorts:["sleepy"]},{emoji:"🤤",type:s.People,label:"Drooling Face",shorts:[]},{emoji:"😴",type:s.People,label:"Sleeping Face",shorts:["sleeping"]},{emoji:"😷",type:s.People,label:"Face With Medical Mask",shorts:["mask"]},{emoji:"🤒",type:s.People,label:"Face With Thermometer",shorts:[]},{emoji:"🤕",type:s.People,label:"Face With Head-Bandage",shorts:[]},{emoji:"🤢",type:s.People,label:"Nauseated Face",shorts:[]},{emoji:"🤮",type:s.People,label:"Face Vomiting",shorts:[]},{emoji:"🤧",type:s.People,label:"Sneezing Face",shorts:[]},{emoji:"😵",type:s.People,label:"Dizzy Face",shorts:["dizzy_face"]},{emoji:"🤯",type:s.People,label:"Exploding Head",shorts:[]},{emoji:"🤠",type:s.People,label:"Cowboy Hat Face",shorts:[]},{emoji:"😎",type:s.People,label:"Smiling Face With Sunglasses",shorts:["sunglasses"]},{emoji:"🤓",type:s.People,label:"Nerd Face",shorts:[]},{emoji:"🧐",type:s.People,label:"Face With Monocle",shorts:[]},{emoji:"😕",type:s.People,label:"Confused Face",shorts:["confused"]},{emoji:"😟",type:s.People,label:"Worried Face",shorts:["worried"]},{emoji:"🙁",type:s.People,label:"Slightly Frowning Face",shorts:[]},{emoji:"☹️",type:s.People,label:"rowning Face",shorts:[]},{emoji:"😮",type:s.People,label:"Face With Open Mouth",shorts:["open_mouth"]},{emoji:"😯",type:s.People,label:"Hushed Face",shorts:["hushed"]},{emoji:"😲",type:s.People,label:"Astonished Face",shorts:["astonished"]},{emoji:"😳",type:s.People,label:"Flushed Face",shorts:["flushed"]},{emoji:"😦",type:s.People,label:"Frowning Face With Open Mouth",shorts:["frowning"]},{emoji:"😧",type:s.People,label:"Anguished Face",shorts:["anguished"]},{emoji:"😨",type:s.People,label:"Fearful Face",shorts:["fearful"]},{emoji:"😰",type:s.People,label:"Anxious Face With Sweat",shorts:["cold_sweat"]},{emoji:"😥",type:s.People,label:"Sad but Relieved Face",shorts:["disappointed_relieved"]},{emoji:"😢",type:s.People,label:"Crying Face",shorts:["cry"]},{emoji:"😭",type:s.People,label:"Loudly Crying Face",shorts:["sob"]},{emoji:"😱",type:s.People,label:"Face Screaming in Fear",shorts:["scream"]},{emoji:"😖",type:s.People,label:"Confounded Face",shorts:["confounded"]},{emoji:"😣",type:s.People,label:"Persevering Face",shorts:["persevere"]},{emoji:"😞",type:s.People,label:"Disappointed Face",shorts:["disappointed"]},{emoji:"😓",type:s.People,label:"Downcast Face With Sweat",shorts:["sweat"]},{emoji:"😩",type:s.People,label:"Weary Face",shorts:["weary"]},{emoji:"😫",type:s.People,label:"Tired Face",shorts:["tired_face"]},{emoji:"😤",type:s.People,label:"Face With Steam From Nose",shorts:["triumph"]},{emoji:"😡",type:s.People,label:"Pouting Face",shorts:["rage"]},{emoji:"😠",type:s.People,label:"Angry Face",shorts:["angry"]},{emoji:"🤬",type:s.People,label:"Face With Symbols on Mouth",shorts:[]},{emoji:"😈",type:s.People,label:"Smiling Face With Horns",shorts:["smiling_imp"]},{emoji:"👿",type:s.People,label:"Angry Face With Horns",shorts:["imp"]},{emoji:"💀",type:s.People,label:"Skull",shorts:["skull"]},{emoji:"☠️",type:s.People,label:"kull and Crossbones",shorts:[]},{emoji:"💩",type:s.People,label:"Pile of Poo",shorts:["hankey","poop","shit"]},{emoji:"🤡",type:s.People,label:"Clown Face",shorts:[]},{emoji:"👹",type:s.People,label:"Ogre",shorts:["japanese_ogre"]},{emoji:"👺",type:s.People,label:"Goblin",shorts:["japanese_goblin"]},{emoji:"👻",type:s.People,label:"Ghost",shorts:["ghost"]},{emoji:"👽",type:s.People,label:"Alien",shorts:["alien"]},{emoji:"👾",type:s.People,label:"Alien Monster",shorts:["space_invader"]},{emoji:"🤖",type:s.People,label:"Robot Face",shorts:[]},{emoji:"😺",type:s.People,label:"Grinning Cat Face",shorts:["smiley_cat"]},{emoji:"😸",type:s.People,label:"Grinning Cat Face With Smiling Eyes",shorts:["smile_cat"]},{emoji:"😹",type:s.People,label:"Cat Face With Tears of Joy",shorts:["joy_cat"]},{emoji:"😻",type:s.People,label:"Smiling Cat Face With Heart-Eyes",shorts:["heart_eyes_cat"]},{emoji:"😼",type:s.People,label:"Cat Face With Wry Smile",shorts:["smirk_cat"]},{emoji:"😽",type:s.People,label:"Kissing Cat Face",shorts:["kissing_cat"]},{emoji:"🙀",type:s.People,label:"Weary Cat Face",shorts:["scream_cat"]},{emoji:"😿",type:s.People,label:"Crying Cat Face",shorts:["crying_cat_face"]},{emoji:"😾",type:s.People,label:"Pouting Cat Face",shorts:["pouting_cat"]},{emoji:"💋",type:s.People,label:"Kiss Mark",shorts:["kiss"]},{emoji:"👋",type:s.People,label:"Waving Hand",shorts:["wave"]},{emoji:"🤚",type:s.People,label:"Raised Back of Hand",shorts:[]},{emoji:"🖐️",type:s.People,label:"Hand With Fingers Splayed",shorts:[]},{emoji:"✋",type:s.People,label:"aised Hand",shorts:["hand","raised_hand"]},{emoji:"🖖",type:s.People,label:"Vulcan Salute",shorts:[]},{emoji:"👌",type:s.People,label:"OK Hand",shorts:["ok_hand"]},{emoji:"✌️",type:s.People,label:"ictory Hand",shorts:["v"]},{emoji:"🤞",type:s.People,label:"Crossed Fingers",shorts:[]},{emoji:"🤟",type:s.People,label:"Love-You Gesture",shorts:[]},{emoji:"🤘",type:s.People,label:"Sign of the Horns",shorts:[]},{emoji:"🤙",type:s.People,label:"Call Me Hand",shorts:[]},{emoji:"👈",type:s.People,label:"Backhand Index Pointing Left",shorts:["point_left"]},{emoji:"👉",type:s.People,label:"Backhand Index Pointing Right",shorts:["point_right"]},{emoji:"👆",type:s.People,label:"Backhand Index Pointing Up",shorts:["point_up_2"]},{emoji:"🖕",type:s.People,label:"Middle Finger",shorts:[]},{emoji:"👇",type:s.People,label:"Backhand Index Pointing Down",shorts:["point_down"]},{emoji:"☝️",type:s.People,label:"ndex Pointing Up",shorts:["point_up"]},{emoji:"👍",type:s.People,label:"Thumbs Up",shorts:["+1","thumbsup"]},{emoji:"👎",type:s.People,label:"Thumbs Down",shorts:["-1","thumbsdown"]},{emoji:"✊",type:s.People,label:"aised Fist",shorts:["fist"]},{emoji:"👊",type:s.People,label:"Oncoming Fist",shorts:["facepunch","punch"]},{emoji:"🤛",type:s.People,label:"Left-Facing Fist",shorts:[]},{emoji:"🤜",type:s.People,label:"Right-Facing Fist",shorts:[]},{emoji:"👏",type:s.People,label:"Clapping Hands",shorts:["clap"]},{emoji:"🙌",type:s.People,label:"Raising Hands",shorts:["raised_hands"]},{emoji:"👐",type:s.People,label:"Open Hands",shorts:["open_hands"]},{emoji:"🤲",type:s.People,label:"Palms Up Together",shorts:[]},{emoji:"🤝",type:s.People,label:"Handshake",shorts:[]},{emoji:"🙏",type:s.People,label:"Folded Hands",shorts:["pray"]}],h=[{emoji:"🙈",type:s.Nature,label:"See-No-Evil Monkey",shorts:["see_no_evil"]},{emoji:"🙉",type:s.Nature,label:"Hear-No-Evil Monkey",shorts:["hear_no_evil"]},{emoji:"🙊",type:s.Nature,label:"Speak-No-Evil Monkey",shorts:["speak_no_evil"]},{emoji:"💥",type:s.Nature,label:"Collision",shorts:["boom","collision"]},{emoji:"💫",type:s.Nature,label:"Dizzy",shorts:["dizzy"]},{emoji:"💦",type:s.Nature,label:"Sweat Droplets",shorts:["sweat_drops"]},{emoji:"💨",type:s.Nature,label:"Dashing Away",shorts:["dash"]},{emoji:"🐵",type:s.Nature,label:"Monkey Face",shorts:["monkey_face"]},{emoji:"🐒",type:s.Nature,label:"Monkey",shorts:["monkey"]},{emoji:"🦍",type:s.Nature,label:"Gorilla",shorts:[]},{emoji:"🐶",type:s.Nature,label:"Dog Face",shorts:["dog"]},{emoji:"🐕",type:s.Nature,label:"Dog",shorts:["dog2"]},{emoji:"🐩",type:s.Nature,label:"Poodle",shorts:["poodle"]},{emoji:"🐺",type:s.Nature,label:"Wolf Face",shorts:["wolf"]},{emoji:"🦊",type:s.Nature,label:"Fox Face",shorts:[]},{emoji:"🐱",type:s.Nature,label:"Cat Face",shorts:["cat"]},{emoji:"🐈",type:s.Nature,label:"Cat",shorts:["cat2"]},{emoji:"🦁",type:s.Nature,label:"Lion Face",shorts:[]},{emoji:"🐯",type:s.Nature,label:"Tiger Face",shorts:["tiger"]},{emoji:"🐅",type:s.Nature,label:"Tiger",shorts:["tiger2"]},{emoji:"🐆",type:s.Nature,label:"Leopard",shorts:["leopard"]},{emoji:"🐴",type:s.Nature,label:"Horse Face",shorts:["horse"]},{emoji:"🐎",type:s.Nature,label:"Horse",shorts:["racehorse"]},{emoji:"🦄",type:s.Nature,label:"Unicorn Face",shorts:[]},{emoji:"🦓",type:s.Nature,label:"Zebra",shorts:[]},{emoji:"🐮",type:s.Nature,label:"Cow Face",shorts:["cow"]},{emoji:"🐂",type:s.Nature,label:"Ox",shorts:["ox"]},{emoji:"🐃",type:s.Nature,label:"Water Buffalo",shorts:["water_buffalo"]},{emoji:"🐄",type:s.Nature,label:"Cow",shorts:["cow2"]},{emoji:"🐷",type:s.Nature,label:"Pig Face",shorts:["pig"]},{emoji:"🐖",type:s.Nature,label:"Pig",shorts:["pig2"]},{emoji:"🐗",type:s.Nature,label:"Boar",shorts:["boar"]},{emoji:"🐽",type:s.Nature,label:"Pig Nose",shorts:["pig_nose"]},{emoji:"🐏",type:s.Nature,label:"Ram",shorts:["ram"]},{emoji:"🐑",type:s.Nature,label:"Ewe",shorts:["sheep"]},{emoji:"🐐",type:s.Nature,label:"Goat",shorts:["goat"]},{emoji:"🐪",type:s.Nature,label:"Camel",shorts:["dromedary_camel"]},{emoji:"🐫",type:s.Nature,label:"Two-Hump Camel",shorts:["camel"]},{emoji:"🦒",type:s.Nature,label:"Giraffe",shorts:[]},{emoji:"🐘",type:s.Nature,label:"Elephant",shorts:["elephant"]},{emoji:"🦏",type:s.Nature,label:"Rhinoceros",shorts:[]},{emoji:"🐭",type:s.Nature,label:"Mouse Face",shorts:["mouse"]},{emoji:"🐁",type:s.Nature,label:"Mouse",shorts:["mouse2"]},{emoji:"🐀",type:s.Nature,label:"Rat",shorts:["rat"]},{emoji:"🐹",type:s.Nature,label:"Hamster Face",shorts:["hamster"]},{emoji:"🐰",type:s.Nature,label:"Rabbit Face",shorts:["rabbit"]},{emoji:"🐇",type:s.Nature,label:"Rabbit",shorts:["rabbit2"]},{emoji:"🐿️",type:s.Nature,label:"Chipmunk",shorts:[]},{emoji:"🦔",type:s.Nature,label:"Hedgehog",shorts:[]},{emoji:"🦇",type:s.Nature,label:"Bat",shorts:[]},{emoji:"🐻",type:s.Nature,label:"Bear Face",shorts:["bear"]},{emoji:"🐨",type:s.Nature,label:"Koala",shorts:["koala"]},{emoji:"🐼",type:s.Nature,label:"Panda Face",shorts:["panda_face"]},{emoji:"🐾",type:s.Nature,label:"Paw Prints",shorts:["feet","paw_prints"]},{emoji:"🦃",type:s.Nature,label:"Turkey",shorts:[]},{emoji:"🐔",type:s.Nature,label:"Chicken",shorts:["chicken"]},{emoji:"🐓",type:s.Nature,label:"Rooster",shorts:["rooster"]},{emoji:"🐣",type:s.Nature,label:"Hatching Chick",shorts:["hatching_chick"]},{emoji:"🐤",type:s.Nature,label:"Baby Chick",shorts:["baby_chick"]},{emoji:"🐥",type:s.Nature,label:"Front-Facing Baby Chick",shorts:["hatched_chick"]},{emoji:"🐦",type:s.Nature,label:"Bird",shorts:["bird"]},{emoji:"🐧",type:s.Nature,label:"Penguin",shorts:["penguin"]},{emoji:"🕊️",type:s.Nature,label:"Dove",shorts:[]},{emoji:"🦅",type:s.Nature,label:"Eagle",shorts:[]},{emoji:"🦆",type:s.Nature,label:"Duck",shorts:[]},{emoji:"🦉",type:s.Nature,label:"Owl",shorts:[]},{emoji:"🐸",type:s.Nature,label:"Frog Face",shorts:["frog"]},{emoji:"🐊",type:s.Nature,label:"Crocodile",shorts:["crocodile"]},{emoji:"🐢",type:s.Nature,label:"Turtle",shorts:["turtle"]},{emoji:"🦎",type:s.Nature,label:"Lizard",shorts:[]},{emoji:"🐍",type:s.Nature,label:"Snake",shorts:["snake"]},{emoji:"🐲",type:s.Nature,label:"Dragon Face",shorts:["dragon_face"]},{emoji:"🐉",type:s.Nature,label:"Dragon",shorts:["dragon"]},{emoji:"🦕",type:s.Nature,label:"Sauropod",shorts:[]},{emoji:"🦖",type:s.Nature,label:"T-Rex",shorts:[]},{emoji:"🐳",type:s.Nature,label:"Spouting Whale",shorts:["whale"]},{emoji:"🐋",type:s.Nature,label:"Whale",shorts:["whale2"]},{emoji:"🐬",type:s.Nature,label:"Dolphin",shorts:["dolphin","flipper"]},{emoji:"🐟",type:s.Nature,label:"Fish",shorts:["fish"]},{emoji:"🐠",type:s.Nature,label:"Tropical Fish",shorts:["tropical_fish"]},{emoji:"🐡",type:s.Nature,label:"Blowfish",shorts:["blowfish"]},{emoji:"🦈",type:s.Nature,label:"Shark",shorts:[]},{emoji:"🐙",type:s.Nature,label:"Octopus",shorts:["octopus"]},{emoji:"🐚",type:s.Nature,label:"Spiral Shell",shorts:["shell"]},{emoji:"🐌",type:s.Nature,label:"Snail",shorts:["snail"]},{emoji:"🦋",type:s.Nature,label:"Butterfly",shorts:[]},{emoji:"🐛",type:s.Nature,label:"Bug",shorts:["bug"]},{emoji:"🐜",type:s.Nature,label:"Ant",shorts:["ant"]},{emoji:"🐝",type:s.Nature,label:"Honeybee",shorts:["bee","honeybee"]},{emoji:"🐞",type:s.Nature,label:"Lady Beetle",shorts:["beetle"]},{emoji:"🦗",type:s.Nature,label:"Cricket",shorts:[]},{emoji:"🕷️",type:s.Nature,label:"Spider",shorts:[]},{emoji:"🕸️",type:s.Nature,label:"Spider Web",shorts:[]},{emoji:"🦂",type:s.Nature,label:"Scorpion",shorts:[]},{emoji:"💐",type:s.Nature,label:"Bouquet",shorts:["bouquet"]},{emoji:"🌸",type:s.Nature,label:"Cherry Blossom",shorts:["cherry_blossom"]},{emoji:"💮",type:s.Nature,label:"White Flower",shorts:["white_flower"]},{emoji:"🏵️",type:s.Nature,label:"Rosette",shorts:[]},{emoji:"🌹",type:s.Nature,label:"Rose",shorts:["rose"]},{emoji:"🥀",type:s.Nature,label:"Wilted Flower",shorts:[]},{emoji:"🌺",type:s.Nature,label:"Hibiscus",shorts:["hibiscus"]},{emoji:"🌻",type:s.Nature,label:"Sunflower",shorts:["sunflower"]},{emoji:"🌼",type:s.Nature,label:"Blossom",shorts:["blossom"]},{emoji:"🌷",type:s.Nature,label:"Tulip",shorts:["tulip"]},{emoji:"🌱",type:s.Nature,label:"Seedling",shorts:["seedling"]},{emoji:"🌲",type:s.Nature,label:"Evergreen Tree",shorts:["evergreen_tree"]},{emoji:"🌳",type:s.Nature,label:"Deciduous Tree",shorts:["deciduous_tree"]},{emoji:"🌴",type:s.Nature,label:"Palm Tree",shorts:["palm_tree"]},{emoji:"🌵",type:s.Nature,label:"Cactus",shorts:["cactus"]},{emoji:"🌾",type:s.Nature,label:"Sheaf of Rice",shorts:["ear_of_rice"]},{emoji:"🌿",type:s.Nature,label:"Herb",shorts:["herb"]},{emoji:"☘️",type:s.Nature,label:"hamrock",shorts:[]},{emoji:"🍀",type:s.Nature,label:"Four Leaf Clover",shorts:["four_leaf_clover"]},{emoji:"🍁",type:s.Nature,label:"Maple Leaf",shorts:["maple_leaf"]},{emoji:"🍂",type:s.Nature,label:"Fallen Leaf",shorts:["fallen_leaf"]},{emoji:"🍃",type:s.Nature,label:"Leaf Fluttering in Wind",shorts:["leaves"]},{emoji:"🍄",type:s.Nature,label:"Mushroom",shorts:["mushroom"]},{emoji:"🌰",type:s.Nature,label:"Chestnut",shorts:["chestnut"]},{emoji:"🦀",type:s.Nature,label:"Crab",shorts:[]},{emoji:"🦐",type:s.Nature,label:"Shrimp",shorts:[]},{emoji:"🦑",type:s.Nature,label:"Squid",shorts:[]},{emoji:"🌍",type:s.Nature,label:"Globe Showing Europe-Africa",shorts:["earth_africa"]},{emoji:"🌎",type:s.Nature,label:"Globe Showing Americas",shorts:["earth_americas"]},{emoji:"🌏",type:s.Nature,label:"Globe Showing Asia-Australia",shorts:["earth_asia"]},{emoji:"🌐",type:s.Nature,label:"Globe With Meridians",shorts:["globe_with_meridians"]},{emoji:"🌑",type:s.Nature,label:"New Moon",shorts:["new_moon"]},{emoji:"🌒",type:s.Nature,label:"Waxing Crescent Moon",shorts:["waxing_crescent_moon"]},{emoji:"🌓",type:s.Nature,label:"First Quarter Moon",shorts:["first_quarter_moon"]},{emoji:"🌔",type:s.Nature,label:"Waxing Gibbous Moon",shorts:["moon","waxing_gibbous_moon"]},{emoji:"🌕",type:s.Nature,label:"Full Moon",shorts:["full_moon"]},{emoji:"🌖",type:s.Nature,label:"Waning Gibbous Moon",shorts:["waning_gibbous_moon"]},{emoji:"🌗",type:s.Nature,label:"Last Quarter Moon",shorts:["last_quarter_moon"]},{emoji:"🌘",type:s.Nature,label:"Waning Crescent Moon",shorts:["waning_crescent_moon"]},{emoji:"🌙",type:s.Nature,label:"Crescent Moon",shorts:["crescent_moon"]},{emoji:"🌚",type:s.Nature,label:"New Moon Face",shorts:["new_moon_with_face"]},{emoji:"🌛",type:s.Nature,label:"First Quarter Moon Face",shorts:["first_quarter_moon_with_face"]},{emoji:"🌜",type:s.Nature,label:"Last Quarter Moon Face",shorts:["last_quarter_moon_with_face"]},{emoji:"☀️",type:s.Nature,label:"un",shorts:["sunny"]},{emoji:"🌝",type:s.Nature,label:"Full Moon Face",shorts:["full_moon_with_face"]},{emoji:"🌞",type:s.Nature,label:"Sun With Face",shorts:["sun_with_face"]},{emoji:"⭐",type:s.Nature,label:"tar",shorts:["star"]},{emoji:"🌟",type:s.Nature,label:"Glowing Star",shorts:["star2"]},{emoji:"🌠",type:s.Nature,label:"Shooting Star",shorts:["stars"]},{emoji:"☁️",type:s.Nature,label:"loud",shorts:["cloud"]},{emoji:"⛅",type:s.Nature,label:"un Behind Cloud",shorts:["partly_sunny"]},{emoji:"⛈️",type:s.Nature,label:"loud With Lightning and Rain",shorts:[]},{emoji:"🌤️",type:s.Nature,label:"Sun Behind Small Cloud",shorts:[]},{emoji:"🌥️",type:s.Nature,label:"Sun Behind Large Cloud",shorts:[]},{emoji:"🌦️",type:s.Nature,label:"Sun Behind Rain Cloud",shorts:[]},{emoji:"🌧️",type:s.Nature,label:"Cloud With Rain",shorts:[]},{emoji:"🌨️",type:s.Nature,label:"Cloud With Snow",shorts:[]},{emoji:"🌩️",type:s.Nature,label:"Cloud With Lightning",shorts:[]},{emoji:"🌪️",type:s.Nature,label:"Tornado",shorts:[]},{emoji:"🌫️",type:s.Nature,label:"Fog",shorts:[]},{emoji:"🌬️",type:s.Nature,label:"Wind Face",shorts:[]},{emoji:"🌈",type:s.Nature,label:"Rainbow",shorts:["rainbow"]},{emoji:"☂️",type:s.Nature,label:"mbrella",shorts:[]},{emoji:"☔",type:s.Nature,label:"mbrella With Rain Drops",shorts:["umbrella"]},{emoji:"⚡",type:s.Nature,label:"igh Voltage",shorts:["zap"]},{emoji:"❄️",type:s.Nature,label:"nowflake",shorts:["snowflake"]},{emoji:"☃️",type:s.Nature,label:"nowman",shorts:[]},{emoji:"⛄",type:s.Nature,label:"nowman Without Snow",shorts:["snowman"]},{emoji:"☄️",type:s.Nature,label:"omet",shorts:[]},{emoji:"🔥",type:s.Nature,label:"Fire",shorts:["fire"]},{emoji:"💧",type:s.Nature,label:"Droplet",shorts:["droplet"]},{emoji:"🌊",type:s.Nature,label:"Water Wave",shorts:["ocean"]},{emoji:"🎄",type:s.Nature,label:"Christmas Tree",shorts:["christmas_tree"]},{emoji:"✨",type:s.Nature,label:"parkles",shorts:["sparkles"]},{emoji:"🎋",type:s.Nature,label:"Tanabata Tree",shorts:["tanabata_tree"]},{emoji:"🎍",type:s.Nature,label:"Pine Decoration",shorts:["bamboo"]}],v=[{emoji:"💘",type:s.Symbols,label:"Heart With Arrow",shorts:["cupid"]},{emoji:"💝",type:s.Symbols,label:"Heart With Ribbon",shorts:["gift_heart"]},{emoji:"💖",type:s.Symbols,label:"Sparkling Heart",shorts:["sparkling_heart"]},{emoji:"💗",type:s.Symbols,label:"Growing Heart",shorts:["heartpulse"]},{emoji:"💓",type:s.Symbols,label:"Beating Heart",shorts:["heartbeat"]},{emoji:"💞",type:s.Symbols,label:"Revolving Hearts",shorts:["revolving_hearts"]},{emoji:"💕",type:s.Symbols,label:"Two Hearts",shorts:["two_hearts"]},{emoji:"💟",type:s.Symbols,label:"Heart Decoration",shorts:["heart_decoration"]},{emoji:"❣️",type:s.Symbols,label:"eavy Heart Exclamation",shorts:[]},{emoji:"💔",type:s.Symbols,label:"Broken Heart",shorts:["broken_heart"]},{emoji:"❤️",type:s.Symbols,label:"ed Heart",shorts:["heart"]},{emoji:"🧡",type:s.Symbols,label:"Orange Heart",shorts:[]},{emoji:"💛",type:s.Symbols,label:"Yellow Heart",shorts:["yellow_heart"]},{emoji:"💚",type:s.Symbols,label:"Green Heart",shorts:["green_heart"]},{emoji:"💙",type:s.Symbols,label:"Blue Heart",shorts:["blue_heart"]},{emoji:"💜",type:s.Symbols,label:"Purple Heart",shorts:["purple_heart"]},{emoji:"🖤",type:s.Symbols,label:"Black Heart",shorts:[]},{emoji:"💯",type:s.Symbols,label:"Hundred Points",shorts:["100"]},{emoji:"💢",type:s.Symbols,label:"Anger Symbol",shorts:["anger"]},{emoji:"💬",type:s.Symbols,label:"Speech Balloon",shorts:["speech_balloon"]},{emoji:"👁️‍🗨️",type:s.Symbols,label:"‍🗨️ Eye in Speech Bubble",shorts:[]},{emoji:"🗯️",type:s.Symbols,label:"Right Anger Bubble",shorts:[]},{emoji:"💭",type:s.Symbols,label:"Thought Balloon",shorts:["thought_balloon"]},{emoji:"💤",type:s.Symbols,label:"Zzz",shorts:["zzz"]},{emoji:"💮",type:s.Symbols,label:"White Flower",shorts:["white_flower"]},{emoji:"♨️",type:s.Symbols,label:"ot Springs",shorts:["hotsprings"]},{emoji:"💈",type:s.Symbols,label:"Barber Pole",shorts:["barber"]},{emoji:"🛑",type:s.Symbols,label:"Stop Sign",shorts:[]},{emoji:"🕛",type:s.Symbols,label:"Twelve O’Clock",shorts:["clock12"]},{emoji:"🕧",type:s.Symbols,label:"Twelve-Thirty",shorts:["clock1230"]},{emoji:"🕐",type:s.Symbols,label:"One O’Clock",shorts:["clock1"]},{emoji:"🕜",type:s.Symbols,label:"One-Thirty",shorts:["clock130"]},{emoji:"🕑",type:s.Symbols,label:"Two O’Clock",shorts:["clock2"]},{emoji:"🕝",type:s.Symbols,label:"Two-Thirty",shorts:["clock230"]},{emoji:"🕒",type:s.Symbols,label:"Three O’Clock",shorts:["clock3"]},{emoji:"🕞",type:s.Symbols,label:"Three-Thirty",shorts:["clock330"]},{emoji:"🕓",type:s.Symbols,label:"Four O’Clock",shorts:["clock4"]},{emoji:"🕟",type:s.Symbols,label:"Four-Thirty",shorts:["clock430"]},{emoji:"🕔",type:s.Symbols,label:"Five O’Clock",shorts:["clock5"]},{emoji:"🕠",type:s.Symbols,label:"Five-Thirty",shorts:["clock530"]},{emoji:"🕕",type:s.Symbols,label:"Six O’Clock",shorts:["clock6"]},{emoji:"🕡",type:s.Symbols,label:"Six-Thirty",shorts:["clock630"]},{emoji:"🕖",type:s.Symbols,label:"Seven O’Clock",shorts:["clock7"]},{emoji:"🕢",type:s.Symbols,label:"Seven-Thirty",shorts:["clock730"]},{emoji:"🕗",type:s.Symbols,label:"Eight O’Clock",shorts:["clock8"]},{emoji:"🕣",type:s.Symbols,label:"Eight-Thirty",shorts:["clock830"]},{emoji:"🕘",type:s.Symbols,label:"Nine O’Clock",shorts:["clock9"]},{emoji:"🕤",type:s.Symbols,label:"Nine-Thirty",shorts:["clock930"]},{emoji:"🕙",type:s.Symbols,label:"Ten O’Clock",shorts:["clock10"]},{emoji:"🕥",type:s.Symbols,label:"Ten-Thirty",shorts:["clock1030"]},{emoji:"🕚",type:s.Symbols,label:"Eleven O’Clock",shorts:["clock11"]},{emoji:"🕦",type:s.Symbols,label:"Eleven-Thirty",shorts:["clock1130"]},{emoji:"🌀",type:s.Symbols,label:"Cyclone",shorts:["cyclone"]},{emoji:"♠️",type:s.Symbols,label:"pade Suit",shorts:["spades"]},{emoji:"♥️",type:s.Symbols,label:"eart Suit",shorts:["hearts"]},{emoji:"♦️",type:s.Symbols,label:"iamond Suit",shorts:["diamonds"]},{emoji:"♣️",type:s.Symbols,label:"lub Suit",shorts:["clubs"]},{emoji:"🃏",type:s.Symbols,label:"Joker",shorts:["black_joker"]},{emoji:"🀄",type:s.Symbols,label:"Mahjong Red Dragon",shorts:["mahjong"]},{emoji:"🎴",type:s.Symbols,label:"Flower Playing Cards",shorts:["flower_playing_cards"]},{emoji:"🔇",type:s.Symbols,label:"Muted Speaker",shorts:["mute"]},{emoji:"🔈",type:s.Symbols,label:"Speaker Low Volume",shorts:["speaker"]},{emoji:"🔉",type:s.Symbols,label:"Speaker Medium Volume",shorts:["sound"]},{emoji:"🔊",type:s.Symbols,label:"Speaker High Volume",shorts:["loud_sound"]},{emoji:"📢",type:s.Symbols,label:"Loudspeaker",shorts:["loudspeaker"]},{emoji:"📣",type:s.Symbols,label:"Megaphone",shorts:["mega"]},{emoji:"📯",type:s.Symbols,label:"Postal Horn",shorts:["postal_horn"]},{emoji:"🔔",type:s.Symbols,label:"Bell",shorts:["bell"]},{emoji:"🔕",type:s.Symbols,label:"Bell With Slash",shorts:["no_bell"]},{emoji:"🎵",type:s.Symbols,label:"Musical Note",shorts:["musical_note"]},{emoji:"🎶",type:s.Symbols,label:"Musical Notes",shorts:["notes"]},{emoji:"🏧",type:s.Symbols,label:"ATM Sign",shorts:["atm"]},{emoji:"🚮",type:s.Symbols,label:"Litter in Bin Sign",shorts:["put_litter_in_its_place"]},{emoji:"🚰",type:s.Symbols,label:"Potable Water",shorts:["potable_water"]},{emoji:"♿",type:s.Symbols,label:"heelchair Symbol",shorts:["wheelchair"]},{emoji:"🚹",type:s.Symbols,label:"Men’s Room",shorts:["mens"]},{emoji:"🚺",type:s.Symbols,label:"Women’s Room",shorts:["womens"]},{emoji:"🚻",type:s.Symbols,label:"Restroom",shorts:["restroom"]},{emoji:"🚼",type:s.Symbols,label:"Baby Symbol",shorts:["baby_symbol"]},{emoji:"🚾",type:s.Symbols,label:"Water Closet",shorts:["wc"]},{emoji:"⚠️",type:s.Symbols,label:"arning",shorts:["warning"]},{emoji:"🚸",type:s.Symbols,label:"Children Crossing",shorts:["children_crossing"]},{emoji:"⛔",type:s.Symbols,label:"o Entry",shorts:["no_entry"]},{emoji:"🚫",type:s.Symbols,label:"Prohibited",shorts:["no_entry_sign"]},{emoji:"🚳",type:s.Symbols,label:"No Bicycles",shorts:["no_bicycles"]},{emoji:"🚭",type:s.Symbols,label:"No Smoking",shorts:["no_smoking"]},{emoji:"🚯",type:s.Symbols,label:"No Littering",shorts:["do_not_litter"]},{emoji:"🚱",type:s.Symbols,label:"Non-Potable Water",shorts:["non-potable_water"]},{emoji:"🚷",type:s.Symbols,label:"No Pedestrians",shorts:["no_pedestrians"]},{emoji:"🔞",type:s.Symbols,label:"No One Under Eighteen",shorts:["underage"]},{emoji:"☢️",type:s.Symbols,label:"adioactive",shorts:[]},{emoji:"☣️",type:s.Symbols,label:"iohazard",shorts:[]},{emoji:"⬆️",type:s.Symbols,label:"p Arrow",shorts:["arrow_up"]},{emoji:"↗️",type:s.Symbols,label:"p-Right Arrow",shorts:["arrow_upper_right"]},{emoji:"➡️",type:s.Symbols,label:"ight Arrow",shorts:["arrow_right"]},{emoji:"↘️",type:s.Symbols,label:"own-Right Arrow",shorts:["arrow_lower_right"]},{emoji:"⬇️",type:s.Symbols,label:"own Arrow",shorts:["arrow_down"]},{emoji:"↙️",type:s.Symbols,label:"own-Left Arrow",shorts:["arrow_lower_left"]},{emoji:"⬅️",type:s.Symbols,label:"eft Arrow",shorts:["arrow_left"]},{emoji:"↖️",type:s.Symbols,label:"p-Left Arrow",shorts:["arrow_upper_left"]},{emoji:"↕️",type:s.Symbols,label:"p-Down Arrow",shorts:["arrow_up_down"]},{emoji:"↔️",type:s.Symbols,label:"eft-Right Arrow",shorts:["left_right_arrow"]},{emoji:"↩️",type:s.Symbols,label:"ight Arrow Curving Left",shorts:["leftwards_arrow_with_hook"]},{emoji:"↪️",type:s.Symbols,label:"eft Arrow Curving Right",shorts:["arrow_right_hook"]},{emoji:"⤴️",type:s.Symbols,label:"ight Arrow Curving Up",shorts:["arrow_heading_up"]},{emoji:"⤵️",type:s.Symbols,label:"ight Arrow Curving Down",shorts:["arrow_heading_down"]},{emoji:"🔃",type:s.Symbols,label:"Clockwise Vertical Arrows",shorts:["arrows_clockwise"]},{emoji:"🔄",type:s.Symbols,label:"Counterclockwise Arrows Button",shorts:["arrows_counterclockwise"]},{emoji:"🔙",type:s.Symbols,label:"Back Arrow",shorts:["back"]},{emoji:"🔚",type:s.Symbols,label:"End Arrow",shorts:["end"]},{emoji:"🔛",type:s.Symbols,label:"On! Arrow",shorts:["on"]},{emoji:"🔜",type:s.Symbols,label:"Soon Arrow",shorts:["soon"]},{emoji:"🔢",type:s.Symbols,label:"Input Numbers",shorts:["1234"]},{emoji:"🔣",type:s.Symbols,label:"Input Symbols",shorts:["symbols"]}],y=[{emoji:"🍇",type:s.Foods,label:"Grapes",shorts:["grapes"]},{emoji:"🍈",type:s.Foods,label:"Melon",shorts:["melon"]},{emoji:"🍉",type:s.Foods,label:"Watermelon",shorts:["watermelon"]},{emoji:"🍊",type:s.Foods,label:"Tangerine",shorts:["tangerine"]},{emoji:"🍋",type:s.Foods,label:"Lemon",shorts:["lemon"]},{emoji:"🍌",type:s.Foods,label:"Banana",shorts:["banana"]},{emoji:"🍍",type:s.Foods,label:"Pineapple",shorts:["pineapple"]},{emoji:"🍎",type:s.Foods,label:"Red Apple",shorts:["apple"]},{emoji:"🍏",type:s.Foods,label:"Green Apple",shorts:["green_apple"]},{emoji:"🍐",type:s.Foods,label:"Pear",shorts:["pear"]},{emoji:"🍑",type:s.Foods,label:"Peach",shorts:["peach"]},{emoji:"🍒",type:s.Foods,label:"Cherries",shorts:["cherries"]},{emoji:"🍓",type:s.Foods,label:"Strawberry",shorts:["strawberry"]},{emoji:"🥝",type:s.Foods,label:"Kiwi Fruit",shorts:[]},{emoji:"🍅",type:s.Foods,label:"Tomato",shorts:["tomato"]},{emoji:"🥥",type:s.Foods,label:"Coconut",shorts:[]},{emoji:"🥑",type:s.Foods,label:"Avocado",shorts:[]},{emoji:"🍆",type:s.Foods,label:"Eggplant",shorts:["eggplant"]},{emoji:"🥔",type:s.Foods,label:"Potato",shorts:[]},{emoji:"🥕",type:s.Foods,label:"Carrot",shorts:[]},{emoji:"🌽",type:s.Foods,label:"Ear of Corn",shorts:["corn"]},{emoji:"🌶️",type:s.Foods,label:"Hot Pepper",shorts:[]},{emoji:"🥒",type:s.Foods,label:"Cucumber",shorts:[]},{emoji:"🥦",type:s.Foods,label:"Broccoli",shorts:[]},{emoji:"🍄",type:s.Foods,label:"Mushroom",shorts:["mushroom"]},{emoji:"🥜",type:s.Foods,label:"Peanuts",shorts:[]},{emoji:"🌰",type:s.Foods,label:"Chestnut",shorts:["chestnut"]},{emoji:"🍞",type:s.Foods,label:"Bread",shorts:["bread"]},{emoji:"🥐",type:s.Foods,label:"Croissant",shorts:[]},{emoji:"🥖",type:s.Foods,label:"Baguette Bread",shorts:[]},{emoji:"🥨",type:s.Foods,label:"Pretzel",shorts:[]},{emoji:"🥞",type:s.Foods,label:"Pancakes",shorts:[]},{emoji:"🧀",type:s.Foods,label:"Cheese Wedge",shorts:[]},{emoji:"🍖",type:s.Foods,label:"Meat on Bone",shorts:["meat_on_bone"]},{emoji:"🍗",type:s.Foods,label:"Poultry Leg",shorts:["poultry_leg"]},{emoji:"🥩",type:s.Foods,label:"Cut of Meat",shorts:[]},{emoji:"🥓",type:s.Foods,label:"Bacon",shorts:[]},{emoji:"🍔",type:s.Foods,label:"Hamburger",shorts:["hamburger"]},{emoji:"🍟",type:s.Foods,label:"French Fries",shorts:["fries"]},{emoji:"🍕",type:s.Foods,label:"Pizza",shorts:["pizza"]},{emoji:"🌭",type:s.Foods,label:"Hot Dog",shorts:[]},{emoji:"🥪",type:s.Foods,label:"Sandwich",shorts:[]},{emoji:"🌮",type:s.Foods,label:"Taco",shorts:[]},{emoji:"🌯",type:s.Foods,label:"Burrito",shorts:[]},{emoji:"🥙",type:s.Foods,label:"Stuffed Flatbread",shorts:[]},{emoji:"🍳",type:s.Foods,label:"Cooking",shorts:["egg"]},{emoji:"🥘",type:s.Foods,label:"Shallow Pan of Food",shorts:[]},{emoji:"🍲",type:s.Foods,label:"Pot of Food",shorts:["stew"]},{emoji:"🥣",type:s.Foods,label:"Bowl With Spoon",shorts:[]},{emoji:"🥗",type:s.Foods,label:"Green Salad",shorts:[]},{emoji:"🍿",type:s.Foods,label:"Popcorn",shorts:[]},{emoji:"🥫",type:s.Foods,label:"Canned Food",shorts:[]},{emoji:"🍱",type:s.Foods,label:"Bento Box",shorts:["bento"]},{emoji:"🍘",type:s.Foods,label:"Rice Cracker",shorts:["rice_cracker"]},{emoji:"🍙",type:s.Foods,label:"Rice Ball",shorts:["rice_ball"]},{emoji:"🍚",type:s.Foods,label:"Cooked Rice",shorts:["rice"]},{emoji:"🍛",type:s.Foods,label:"Curry Rice",shorts:["curry"]},{emoji:"🍜",type:s.Foods,label:"Steaming Bowl",shorts:["ramen"]},{emoji:"🍝",type:s.Foods,label:"Spaghetti",shorts:["spaghetti"]},{emoji:"🍠",type:s.Foods,label:"Roasted Sweet Potato",shorts:["sweet_potato"]},{emoji:"🍢",type:s.Foods,label:"Oden",shorts:["oden"]},{emoji:"🍣",type:s.Foods,label:"Sushi",shorts:["sushi"]},{emoji:"🍤",type:s.Foods,label:"Fried Shrimp",shorts:["fried_shrimp"]},{emoji:"🍥",type:s.Foods,label:"Fish Cake With Swirl",shorts:["fish_cake"]},{emoji:"🍡",type:s.Foods,label:"Dango",shorts:["dango"]},{emoji:"🥟",type:s.Foods,label:"Dumpling",shorts:[]},{emoji:"🥠",type:s.Foods,label:"Fortune Cookie",shorts:[]},{emoji:"🥡",type:s.Foods,label:"Takeout Box",shorts:[]},{emoji:"🍦",type:s.Foods,label:"Soft Ice Cream",shorts:["icecream"]},{emoji:"🍧",type:s.Foods,label:"Shaved Ice",shorts:["shaved_ice"]},{emoji:"🍨",type:s.Foods,label:"Ice Cream",shorts:["ice_cream"]},{emoji:"🍩",type:s.Foods,label:"Doughnut",shorts:["doughnut"]},{emoji:"🍪",type:s.Foods,label:"Cookie",shorts:["cookie"]},{emoji:"🎂",type:s.Foods,label:"Birthday Cake",shorts:["birthday"]},{emoji:"🍰",type:s.Foods,label:"Shortcake",shorts:["cake"]},{emoji:"🥧",type:s.Foods,label:"Pie",shorts:[]},{emoji:"🍫",type:s.Foods,label:"Chocolate Bar",shorts:["chocolate_bar"]},{emoji:"🍬",type:s.Foods,label:"Candy",shorts:["candy"]},{emoji:"🍭",type:s.Foods,label:"Lollipop",shorts:["lollipop"]},{emoji:"🍮",type:s.Foods,label:"Custard",shorts:["custard"]},{emoji:"🍯",type:s.Foods,label:"Honey Pot",shorts:["honey_pot"]},{emoji:"🍼",type:s.Foods,label:"Baby Bottle",shorts:["baby_bottle"]},{emoji:"🥛",type:s.Foods,label:"Glass of Milk",shorts:[]},{emoji:"☕",type:s.Foods,label:"ot Beverage",shorts:["coffee"]},{emoji:"🍵",type:s.Foods,label:"Teacup Without Handle",shorts:["tea"]},{emoji:"🍶",type:s.Foods,label:"Sake",shorts:["sake"]},{emoji:"🍾",type:s.Foods,label:"Bottle With Popping Cork",shorts:[]},{emoji:"🍷",type:s.Foods,label:"Wine Glass",shorts:["wine_glass"]},{emoji:"🍸",type:s.Foods,label:"Cocktail Glass",shorts:["cocktail"]},{emoji:"🍹",type:s.Foods,label:"Tropical Drink",shorts:["tropical_drink"]},{emoji:"🍺",type:s.Foods,label:"Beer Mug",shorts:["beer"]},{emoji:"🍻",type:s.Foods,label:"Clinking Beer Mugs",shorts:["beers"]},{emoji:"🥂",type:s.Foods,label:"Clinking Glasses",shorts:[]},{emoji:"🥃",type:s.Foods,label:"Tumbler Glass",shorts:[]},{emoji:"🥤",type:s.Foods,label:"Cup With Straw",shorts:[]},{emoji:"🥢",type:s.Foods,label:"Chopsticks",shorts:[]},{emoji:"🍽️",type:s.Foods,label:"Fork and Knife With Plate",shorts:[]},{emoji:"🍴",type:s.Foods,label:"Fork and Knife",shorts:["fork_and_knife"]},{emoji:"🥄",type:s.Foods,label:"Spoon",shorts:[]}],g=([].concat(b,h,y,v),a("1942")),j=[{value:s.People,emoji:"🙂",label:"Smileys & People",list:b},{value:s.Nature,emoji:"🐻",label:"Animals & Nature",list:h},{value:s.Foods,emoji:"🍔",label:"Food & Drink",list:y},{value:s.Symbols,emoji:"🔣",label:"Symbols",list:v}],k=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(l["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.input=null,e.activeTab=j[0],e.activeEmoji=null,e.search="",e}return Object(u["a"])(t,e),Object(r["a"])(t,[{key:"bindInput",value:function(e){this.input=e}},{key:"onSelectEmoji",value:function(e){var t=this;if(this.input){var a=this.input.value,s=Object(g["d"])(this.input.selectionStart,a.length),o=Object(g["d"])(this.input.selectionEnd,a.length);s===o&&(this.input.value="".concat(a.substr(0,s)).concat(e.emoji).concat(a.substr(o))),setTimeout(function(){var a=s+e.emoji.length;if(t.input){var o=document.createEvent("Event");o.initEvent("input",!0,!0),t.input.dispatchEvent(o),t.input.focus(),t.input.setSelectionRange(a,a)}},0)}this.$emit("select",e)}},{key:"tabs",get:function(){return j}},{key:"emojis",get:function(){var e=this.search;return this.activeTab.list.filter(function(t){return[t.label,t.shorts].some(function(t){return t.indexOf(e)>=0})})}}]),t}(d["d"]);k=p["a"]([d["a"]],k);var _=k,w=_,O=(a("1644"),a("2877")),C=Object(O["a"])(w,m,f,!1,null,"05586df8",null),S=C.exports,P=function(e){function t(){return Object(i["a"])(this,t),Object(l["a"])(this,Object(c["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),Object(r["a"])(t,[{key:"bindInput",value:function(e){this.$refs.emojis.bindInput(e)}}]),t}(d["d"]);p["a"]([Object(d["c"])()],P.prototype,"input",void 0),P=p["a"]([Object(d["a"])({components:{Emojis:S}})],P);var x=P,N=x,F=(a("3d57"),Object(O["a"])(N,o,n,!1,null,"1411f9ee",null));t["a"]=F.exports},ec65:function(e,t,a){"use strict";var s=a("d22d"),o=a.n(s);o.a},ec99:function(e,t,a){"use strict";var s=a("0737"),o=a.n(s);o.a},f006:function(e,t,a){},f316:function(e,t,a){},f6a2:function(e,t,a){},faa1:function(e,t,a){"use strict";var s=a("6ca2"),o=a.n(s);o.a}});